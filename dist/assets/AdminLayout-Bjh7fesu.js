import{_ as M}from"./LoadingItem-DmoZeUyF.js";import{u as C,b as w}from"./vue-router-BUdZBcVY.js";import{B,a as O,M as k,b as K,c as U,d as L}from"./ant-design-vue-xZZJ8OSi.js";import{d as b,r as f,w as S,G as z,b2 as i,e as u,ab as _,bz as l,f as h,b0 as F,F as P,be as R,I as A,c,x as j,ad as v,v as T,l as x,p as G,ac as J,D as Y}from"./@vue-BAN-rWwc.js";import{_ as $,m as q,R as Q}from"./index-V-ixwPPj.js";import{_ as V}from"./ModalConfirm-sC3ACk6i.js";import{c as W}from"./axios-CXJOSD7X.js";import{i as X}from"./injectionKeys-h8wMimST.js";import"./@babel-BiFW4_mA.js";import"./scroll-into-view-if-needed-SxpMpKWN.js";import"./compute-scroll-into-view-1gs_hJI2.js";import"./@ant-design-CgZh20KY.js";import"./@ctrl-DOFZgDuz.js";import"./resize-observer-polyfill-B1PUzC5B.js";import"./dayjs-D1q64uRo.js";import"./color-convert-C8q6JVNj.js";import"./color-name-sJvbcIHU.js";import"./lodash-es-BZQRJuX6.js";import"./throttle-debounce-CUWDS_la.js";import"./vue-types-C5fUfLeo.js";import"./dom-align-CRCehRfe.js";import"./async-validator-CRbnkQr6.js";import"./@emotion-BtrR-yrm.js";import"./stylis-DsJDcYJc.js";import"./@tsparticles-DFZjZ4II.js";import"./vuex-ze_3D4wJ.js";import"./vuex-persistedstate-D4njCX8q.js";import"./vue3-cookies-obZ_cbEp.js";import"./vue-lazyload-DLsNfTHF.js";import"./axios--ry0FeSQ.js";const Z=b({components:{ABreadcrumb:B,ABreadcrumbItem:B.Item},setup(){const e=C(),t=f([]),s=n=>{var a;return((a=n.name)==null?void 0:a.toString())||null},d=(n,a)=>n==="admin"?"admin.blogs.index":a?`${Date.now()}`:`admin.${n}.index`,p=(n,a,o)=>{n.value.push({breadcrumbName:a!=="index"?a:"list",path:o})},r=(n,a)=>{a.forEach((o,g)=>{if(!n.value.some(y=>y.breadcrumbName===o)){const y=d(o,g===a.length-1);p(n,o,y)}})},m=()=>{t.value=[],e.matched.forEach(n=>{const a=s(n);if(!a)return;const o=a.split(".");r(t,o)})};return S(e,m),z(m),{routes:t}}}),ee={key:0};function oe(e,t,s,d,p,r){const m=i("router-link"),n=i("a-breadcrumb-item"),a=i("a-breadcrumb");return u(),_(a,{class:"breadcrumb-container"},{default:l(()=>[(u(!0),h(P,null,F(e.routes,o=>(u(),_(n,{key:o.breadcrumbName},{default:l(()=>[e.routes.indexOf(o)===e.routes.length-1?(u(),h("span",ee,R(o.breadcrumbName),1)):(u(),_(m,{key:1,to:{name:o.path}},{default:l(()=>[A(R(o.breadcrumbName),1)]),_:2},1032,["to"]))]),_:2},1024))),128))]),_:1})}const H=$(Z,[["render",oe]]),te=b({components:{ModalConfirm:V,ALayoutHeader:O,AMenu:k,AMenuItem:k.Item},setup(){const e=w(),t="Logout ?",s=f(null);return{logout:()=>{var r;(r=s.value)==null||r.toggleConfirmLoading(),K.loading("Loading...",1.5).then(()=>{W(),e.push({name:"admin.login"}),K.success("Logout success!")})},modalContent:t,openModal:()=>{var r;(r=s.value)==null||r.toggleOpen()},modalRef:s}}});function ne(e,t,s,d,p,r){const m=i("a-menu-item"),n=i("a-menu"),a=V,o=i("a-layout-header");return u(),_(o,{class:"header",style:{padding:0}},{default:l(()=>[c(n,{theme:"light",mode:"horizontal",style:{lineHeight:"64px",justifyContent:"flex-end",paddingRight:"1rem"}},{default:l(()=>[c(m,{onClick:e.openModal},{default:l(()=>[A("Logout")]),_:1},8,["onClick"])]),_:1}),c(a,{modalText:e.modalContent,handleOk:e.logout,ref:"modalRef"},null,8,["modalText","handleOk"])]),_:1})}const D=$(te,[["render",ne]]),ae=b({components:{ALayoutSider:U,AMenu:k},setup(){const e=w(),t=C(),s=f(!1),d=f([t.name]),p=f([t.meta.routeParent]),r="/logo.svg",m=async({item:n})=>{await e.push({name:n.to})};return S(t,()=>{d.value=[t.name]}),{selectedKeys:d,openKeys:p,menuItemAdmin:q,handleSiderClick:m,collapsed:s,logo:r}}}),se={class:"logo"},re={alt:""};function me(e,t,s,d,p,r){const m=i("a-menu"),n=i("a-layout-sider"),a=j("lazy");return u(),_(n,{class:"sider-container",collapsed:e.collapsed,"onUpdate:collapsed":t[2]||(t[2]=o=>e.collapsed=o),collapsible:""},{default:l(()=>[v("div",se,[T(v("img",re,null,512),[[a,e.logo]])]),c(m,{selectedKeys:e.selectedKeys,"onUpdate:selectedKeys":t[0]||(t[0]=o=>e.selectedKeys=o),openKeys:e.openKeys,"onUpdate:openKeys":t[1]||(t[1]=o=>e.openKeys=o),items:e.menuItemAdmin,theme:"dark",mode:"inline",onClick:e.handleSiderClick,class:"menu-item"},null,8,["selectedKeys","openKeys","items","onClick"])]),_:1},8,["collapsed"])}const E=$(ae,[["render",me]]),ce=b({components:{NavHeaderItem:D,SiderItem:E,LoadingItem:M,BreadcrumbItem:H,ALayout:L,ALayoutContent:L.Content,ALayoutFooter:L.Footer},setup(){const e=f(!0),t=C(),s=x(()=>t.meta.routeType===Q.AUTH);return G(X.isLoading,e),{isAuthRoute:s,isLoading:e}}}),ie={class:"admin-container"},ue={class:"layout-content"},le={key:1};function de(e,t,s,d,p,r){const m=E,n=D,a=H,o=M,g=i("RouterView"),I=i("a-layout-content"),y=i("a-layout-footer"),N=i("a-layout");return u(),h("div",ie,[e.isAuthRoute?(u(),_(N,{key:0,style:{"min-height":"100vh"}},{default:l(()=>[c(m),c(N,null,{default:l(()=>[c(n),c(I,{style:{margin:"16px 16px 0"}},{default:l(()=>[c(a),v("div",ue,[e.isLoading?(u(),_(o,{key:0})):J("",!0),T(c(g,null,null,512),[[Y,!e.isLoading]])])]),_:1}),c(y,{class:"layout-footer"},{default:l(()=>[A(" Copyright Â© 2024 JutLy ")]),_:1})]),_:1})]),_:1})):(u(),h("section",le,[c(g)]))])}const Pe=$(ce,[["render",de]]);export{Pe as default};
