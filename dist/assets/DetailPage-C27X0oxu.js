import{d as m,b2 as d,e as g,f as k,ad as n,c,bz as u,F as A,b0 as L,ab as _,be as S,o as w,x as $,v as p,aj as f,I as F,r as y,aO as C,i as E,G as D,w as M}from"./@vue-BAN-rWwc.js";import{_ as b}from"./index-V-ixwPPj.js";import{o as I,n as j}from"./@ant-design-CgZh20KY.js";import{A as J}from"./ant-design-vue-xZZJ8OSi.js";import{a as R,b as U}from"./blog-BbT8Vzdo.js";import{p as z}from"./paginationControls-jFrBKF6S.js";import{i as K}from"./injectionKeys-h8wMimST.js";import{u as G}from"./vue-router-BUdZBcVY.js";import"./@tsparticles-DFZjZ4II.js";import"./vuex-ze_3D4wJ.js";import"./vuex-persistedstate-D4njCX8q.js";import"./vue3-cookies-obZ_cbEp.js";import"./vue-lazyload-DLsNfTHF.js";import"./@ctrl-DOFZgDuz.js";import"./@babel-BiFW4_mA.js";import"./scroll-into-view-if-needed-SxpMpKWN.js";import"./compute-scroll-into-view-1gs_hJI2.js";import"./resize-observer-polyfill-B1PUzC5B.js";import"./dayjs-D1q64uRo.js";import"./color-convert-C8q6JVNj.js";import"./color-name-sJvbcIHU.js";import"./lodash-es-BZQRJuX6.js";import"./throttle-debounce-CUWDS_la.js";import"./vue-types-C5fUfLeo.js";import"./dom-align-CRCehRfe.js";import"./async-validator-CRbnkQr6.js";import"./@emotion-BtrR-yrm.js";import"./stylis-DsJDcYJc.js";import"./axios-CXJOSD7X.js";import"./axios--ry0FeSQ.js";const O=m({components:{},props:{items:{type:Object,required:!0}},setup(){return{}}}),W={class:"scrollbar scrollbar-right"},Y={class:"related-blogs"},X=n("h2",{class:"font-large"},"CÃ³ thá»ƒ báº¡n sáº½ thÃ­ch",-1),Q=n("div",{class:"image"},[n("img",{src:"https://hoanghamobile.com/tin-tuc/wp-content/webp-express/webp-images/uploads/2024/03/anh-meo-5.jpg.webp",alt:""})],-1),Z={class:"item-title line-clamp-2"};function nn(s,e,o,h,r,v){const a=d("RouterLink"),i=d("a-col"),t=d("a-row");return g(),k("div",W,[n("div",Y,[X,c(t,{class:"related-item"},{default:u(()=>[(g(!0),k(A,null,L(s.items,l=>(g(),_(i,{class:"group",lg:24,sm:12,key:l},{default:u(()=>[c(a,{to:"/blogs/"+l.id},{default:u(()=>[Q,n("h3",Z,S(l.title),1)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1})])])}const x=b(O,[["render",nn]]),sn=m({components:{},setup(){const s=async e=>{if(e.target.classList.contains("copyCode")){const o=e.target,r=o.closest(".codeBlock").querySelector(".token-line").textContent.trim();o.textContent="Copied",await navigator.clipboard.writeText(r),setTimeout(()=>{o.textContent="Copy"},1500)}};return w(()=>{document.querySelectorAll(".copyCode").forEach(o=>{o.addEventListener("click",s)})}),{copyCode:s}}}),an={class:"rendered-article prose mt-6"},on=f('<p>Báº¡n cÃ³ Ä‘ang tÃ¬m cÃ¡ch deploy website Next.js hoáº·c má»™t server Node.Js?</p><p> Trong bÃ i viáº¿t nÃ y, mÃ¬nh sáº½ hÆ°á»›ng dáº«n cÃ¡c báº¡n deploy lÃªn production website Next.js lÃªn Vultr VPS. Vá»›i Node.Js thÃ¬ tÆ°Æ¡ng tá»± 99.99% nhÃ© (cháº¯c khÃ¡c má»—i 1 cÃ¢u lá»‡nh build code) </p><p> ChÃºng ta sáº½ tiáº¿n hÃ nh táº¡o má»™t VPS má»›i (mÃ¡y chá»§ riÃªng áº£o) vá»›i há»‡ Ä‘iá»u hÃ nh Ubuntu, cáº¥u hÃ¬nh server Ä‘á»ƒ cÃ³ thá»ƒ cháº¡y Ä‘Æ°á»£c á»©ng dá»¥ng Node.js, cáº¥u hÃ¬nh tÃªn miá»n, sá»­ dá»¥ng Nginx web server vÃ  setup mÃ£ hÃ³a HTTPS/SSL cho website cá»§a báº¡n Ä‘á»ƒ nÃ³ cÃ³ Ä‘Æ°á»ng link lÃ  <code>https://</code>. </p><p> TrÆ°á»›c khi báº¯t Ä‘áº§u hÆ°á»›ng dáº«n nÃ y, báº¡n cáº§n cÃ³ má»™t á»©ng dá»¥ng Node.Js hoáº·c Next.Js cháº¡y khÃ´ng lá»—i á»Ÿ mÃ¡y tÃ­nh cá»§a cÃ¡c báº¡n. </p><blockquote><p> Vá»›i Next.js báº¡n cáº§n build code cÃ¡c báº¡n á»Ÿ local Ä‘á»ƒ cháº¯c cháº¯n ráº±ng nÃ³ khÃ´ng cÃ³ lá»—i nÃ o, Ä‘Ã´i khi báº¡n cháº¡y <code>yarn dev</code> khÃ´ng xuáº¥t hiá»‡n lá»—i nhÆ°ng <code>yarn build</code> thÃ¬ láº¡i cÃ³ Ä‘áº¥y! </p></blockquote><p>Má»™t khi báº¡n Ä‘Ã£ chuáº©n bá»‹ xong rá»“i thÃ¬ mÃ¬nh sáº½ báº¯t Ä‘áº§u nhÃ©.</p><p>DÆ°á»›i Ä‘Ã¢y lÃ  video full hÆ°á»›ng dáº«n deploy NextJs / NodeJs lÃªn VPS ğŸ‘‡ğŸ»</p><hr><h2 id="tao-mot-vultr-server-instance">ğŸ¥‡Táº¡o má»™t Vultr Server Instance</h2><p> TrÆ°á»›c háº¿t chÃºng ta cáº§n táº¡o má»™t instance VPS, á»Ÿ Ä‘Ã¢y mÃ¬nh dÃ¹ng dá»‹ch vá»¥ VPS cá»§a <a rel="noopener noreferrer nofollow" title="Vultr" href="https://www.vultr.com/?ref=9307237-8H">Vultr</a> nhÃ©. ÄÄƒng kÃ½ gÃ³i 5$/thÃ¡ng ráº» bÃ¨o Ã  ğŸ¤£. </p><p> Äá»ƒ táº¡o Ä‘Æ°á»£c má»™t VPS trÃªn <a rel="noopener noreferrer nofollow" title="Vultr" href="https://www.vultr.com/?ref=9307237-8H">Vultr</a> thÃ¬ báº¡n cáº§n 2 thá»©: </p><ul><li><div> Má»™t tÃ i khoáº£n <a rel="noopener noreferrer nofollow" title="Vultr" href="https://www.vultr.com/?ref=9307237-8H">Vultr</a></div></li><li><div>Má»™t tháº» Visa hoáº·c Master Card dÃ¹ng Ä‘á»ƒ Ä‘Äƒng kÃ½ vÃ  thanh toÃ¡n</div></li></ul><blockquote><p> Náº¿u báº¡n chÆ°a cÃ³ tÃ i khoáº£n Vultr thÃ¬ cÃ³ thá»ƒ Ä‘Äƒng kÃ½ qua link giá»›i thiá»‡u cá»§a mÃ¬nh, báº¡n sáº½ nháº­n <strong>miá»…n phÃ­ 100$ dÃ¹ng cho 60 ngÃ y</strong>, thoáº£i mÃ¡i vá»c váº¡ch luÃ´n: <a rel="noopener noreferrer nofollow" title="https://www.vultr.com/?ref=9307237-8H" href="https://www.vultr.com/?ref=9307237-8H">https://www.vultr.com/?ref=9307237-8H</a></p></blockquote><h3 id="tao-mot-instance-moi-tren-vultr">ğŸ¥ˆTáº¡o má»™t Instance má»›i trÃªn Vultr</h3><p> Sau khi Ä‘Äƒng nháº­p thÃ nh cÃ´ng, VÃ o pháº§n <strong>Product</strong> vÃ  click vÃ o <strong>Deploy A New Server</strong></p>',15),en={class:"my-8"},tn={target:"_blank",rel:"noopener",title:"Táº¡o má»›i instance vultr"},cn={class:"m-auto block max-h-screen max-w-full rounded-xl object-cover shadow-md",alt:"Táº¡o má»›i instance vultr",loading:"lazy"},ln=n("figcaption",{class:"py-4 text-center text-[0.9em] italic"},"Táº¡o má»›i instance vultr",-1),pn={class:"my-8"},rn={target:"_blank",rel:"noopener",title:"CÃ³ khÃ¡ nhiá»u loáº¡i VPS cho anh em chá»n dá»±a vÃ o nhu cáº§u, ráº» nháº¥t thÃ¬ chá»n Cloud Compute (mÃ¬nh chá»n cÃ¡i nÃ y)"},dn={class:"m-auto block max-h-screen max-w-full rounded-xl object-cover shadow-md",alt:"CÃ³ khÃ¡ nhiá»u loáº¡i VPS cho anh em chá»n dá»±a vÃ o nhu cáº§u, ráº» nháº¥t thÃ¬ chá»n Cloud Compute (mÃ¬nh chá»n cÃ¡i nÃ y)",loading:"lazy"},hn=n("figcaption",{class:"py-4 text-center text-[0.9em] italic"}," CÃ³ khÃ¡ nhiá»u loáº¡i VPS cho anh em chá»n dá»±a vÃ o nhu cáº§u, ráº» nháº¥t thÃ¬ chá»n Cloud Compute (mÃ¬nh chá»n cÃ¡i nÃ y) ",-1),un={class:"my-8"},gn={target:"_blank",rel:"noopener",title:"Chá»n loáº¡i CPU vÃ  vá»‹ trÃ­ Ä‘áº·t Server tÃ¹y nhu cáº§u cÃ¡c báº¡n"},vn={class:"m-auto block max-h-screen max-w-full rounded-xl object-cover shadow-md",alt:"Chá»n loáº¡i CPU vÃ  vá»‹ trÃ­ Ä‘áº·t Server tÃ¹y nhu cáº§u cÃ¡c báº¡n",loading:"lazy"},yn=n("figcaption",{class:"py-4 text-center text-[0.9em] italic"}," Chá»n loáº¡i CPU vÃ  vá»‹ trÃ­ Ä‘áº·t Server tÃ¹y nhu cáº§u cÃ¡c báº¡n ",-1),kn={class:"my-8"},mn={target:"_blank",rel:"noopener",title:"Chá»n há»‡ Ä‘iá»u hÃ nh cho server. CÃ¡c báº¡n chá»n Ubuntu 22.04 LTS x64 nhÃ©"},bn={class:"m-auto block max-h-screen max-w-full rounded-xl object-cover shadow-md",alt:"Chá»n há»‡ Ä‘iá»u hÃ nh cho server. CÃ¡c báº¡n chá»n Ubuntu 22.04 LTS x64 nhÃ©",loading:"lazy"},Fn=n("figcaption",{class:"py-4 text-center text-[0.9em] italic"}," Chá»n há»‡ Ä‘iá»u hÃ nh cho server. CÃ¡c báº¡n chá»n Ubuntu 22.04 LTS x64 nhÃ© ",-1),fn={class:"my-8"},Cn={target:"_blank",rel:"noopener",title:"Chá»n dung lÆ°á»£ng/tá»‘c Ä‘á»™ server. MÃ¬nh chá»n 5$/thÃ¡ng cho ráº» nháº¥t nhÃ©."},_n={class:"m-auto block max-h-screen max-w-full rounded-xl object-cover shadow-md",alt:"Chá»n dung lÆ°á»£ng/tá»‘c Ä‘á»™ server. MÃ¬nh chá»n 5$/thÃ¡ng cho ráº» nháº¥t nhÃ©.",loading:"lazy"},Sn=n("figcaption",{class:"py-4 text-center text-[0.9em] italic"}," Chá»n dung lÆ°á»£ng/tá»‘c Ä‘á»™ server. MÃ¬nh chá»n 5$/thÃ¡ng cho ráº» nháº¥t nhÃ©. ",-1),wn=n("p",null,"Tiáº¿p theo lÃ  nhá»¯ng cÃ¡i dá»‹ch vá»¥ add thÃªm, anh em nÃ o muá»‘n ráº» thÃ¬ cá»© chá»n nhÆ° mÃ¬nh.",-1),xn={class:"my-8"},Tn={target:"_blank",rel:"noopener",title:"Auto backup vÃ  dá»‹ch vá»¥ thÃªm."},Nn={class:"m-auto block max-h-screen max-w-full rounded-xl object-cover shadow-md",alt:"Auto backup vÃ  dá»‹ch vá»¥ thÃªm.",loading:"lazy"},Pn=n("figcaption",{class:"py-4 text-center text-[0.9em] italic"}," Auto backup vÃ  dá»‹ch vá»¥ thÃªm. ",-1),Bn=n("p",null,[F(" Tiáº¿p theo anh em cáº§n thÃªm SSH key cá»§a anh em vÃ o Vultr Profile. Anh em click vÃ o "),n("strong",null,"Add New"),F(" Ä‘á»ƒ thÃªm má»™t SSH Key vÃ o nhÃ© ")],-1),Vn={class:"my-8"},Hn={target:"_blank",rel:"noopener",title:"Click add new Ä‘á»ƒ thÃªm SSH Key vÃ o nhÃ©"},qn={class:"m-auto block max-h-screen max-w-full rounded-xl object-cover shadow-md",alt:"Click add new Ä‘á»ƒ thÃªm SSH Key vÃ o nhÃ©",loading:"lazy"},An=n("figcaption",{class:"py-4 text-center text-[0.9em] italic"}," Click add new Ä‘á»ƒ thÃªm SSH Key vÃ o nhÃ© ",-1),Ln=n("p",null," Náº¿u anh em Ä‘Ã£ cÃ³ má»™t SSH key á»Ÿ mÃ¡y tÃ­nh rá»“i thÃ¬ chá»‰ cáº§n thÃªm cÃ¡i public key cá»§a anh em vÃ o Ä‘Ã¢y lÃ  Ä‘Æ°á»£c. Sau khi thÃªm rá»“i back trá»Ÿ láº¡i mÃ n hÃ¬nh vá»«a rá»“i enter cÃ¡i tÃªn vps lÃ  Ä‘Æ°á»£c. ",-1),$n=n("p",null," Má»¥c Ä‘Ã­ch cá»§a cÃ¡i SSH key nÃ y lÃ  giÃºp server verify ráº±ng chá»‰ cÃ³ mÃ¡y tÃ­nh cÃ¡ nhÃ¢n cá»§a ae má»›i cÃ³ thá»ƒ truy cáº­p Ä‘Æ°á»£c vÃ o VPS instance nÃ y. ",-1),En={class:"my-8"},Dn={target:"_blank",rel:"noopener",title:"ThÃªm ssh key cÃ¡c báº¡n vÃ o Ä‘Ã¢y, nháº­p cÃ¡i name lÃ  tÃªn ssh key cÃ¡c báº¡n. VÃ­ dá»¥: MÃ¡y tÃ­nh Windows 11"},Mn={class:"m-auto block max-h-screen max-w-full rounded-xl object-cover shadow-md",alt:"ThÃªm ssh key cÃ¡c báº¡n vÃ o Ä‘Ã¢y, nháº­p cÃ¡i name lÃ  tÃªn ssh key cÃ¡c báº¡n. VÃ­ dá»¥: MÃ¡y tÃ­nh Windows 11",loading:"lazy"},In=n("figcaption",{class:"py-4 text-center text-[0.9em] italic"}," ThÃªm ssh key cÃ¡c báº¡n vÃ o Ä‘Ã¢y, nháº­p cÃ¡i name lÃ  tÃªn ssh key cÃ¡c báº¡n. VÃ­ dá»¥: MÃ¡y tÃ­nh Windows 11 ",-1),jn=n("p",null," Náº¿u anh em chÆ°a cÃ³ SSH key á»Ÿ mÃ¡y tÃ­nh cáº§n táº¡o má»™t SSH Key á»Ÿ mÃ¡y tÃ­nh cÃ¡ nhÃ¢n, tham kháº£o bÆ°á»›c dÆ°á»›i nhÃ©. ",-1),Jn=n("p",null,[F(" Xong rá»“i nháº¥n chá»n cÃ¡i SSH Key vá»«a thÃªm vÃ o & kiá»ƒm tra giÃ¡ cáº£ nháº¥n "),n("strong",null,"Deploy Now"),F(" lÃ  Ä‘Æ°á»£c ")],-1),Rn={class:"my-8"},Un={target:"_blank",rel:"noopener",title:"Deploy vps thÃ´i anh em"},zn={class:"m-auto block max-h-screen max-w-full rounded-xl object-cover shadow-md",alt:"Deploy vps thÃ´i anh em",loading:"lazy"},Kn=n("figcaption",{class:"py-4 text-center text-[0.9em] italic"},"Deploy vps thÃ´i anh em",-1),Gn=f('<h3 id="tao-ssh-key-o-may-tinh-ca-nhan">ğŸ¥ˆTáº¡o SSH key á»Ÿ mÃ¡y tÃ­nh cÃ¡ nhÃ¢n</h3><blockquote><p> Náº¿u anh em Ä‘Ã£ cÃ³ má»™t SSH Key á»Ÿ mÃ¡y tÃ­nh rá»“i thÃ¬ khÃ´ng cáº§n táº¡o má»›i, anh em cÃ³ thá»ƒ bá» qua bÆ°á»›c nÃ y </p></blockquote><h4 id="tao-ssh-key">ğŸ¥‰Táº¡o SSH key</h4><ol><li><div>Äáº§u tiÃªn má»Ÿ terminal lÃªn</div></li><li><div> Paste text bÃªn dÆ°á»›i, thay tháº¿ email lÃ  Ä‘á»‹a chá»‰ email <code>your_email@example.com</code> lÃ  Ä‘á»‹a chá»‰ email cá»§a báº¡n (hoáº·c email Ä‘Äƒng kÃ½ github cá»§a báº¡n cÅ©ng Ä‘Æ°á»£c) </div></li></ol><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token plain">ssh-keygen -t ed25519 -C </span><span class="token string" style="color:rgb(255, 121, 198);">&quot;your_email@example.com&quot;</span><span class="token plain"></span></div></pre></div><p> Äiá»u nÃ y sáº½ táº¡o má»™t SSH key má»›i, sá»­ dá»¥ng email Ä‘Ã£ Ä‘Æ°á»£c cung cáº¥p nhÆ° má»™t nhÃ£n trong SSH key (báº¡n cÃ³ thá»ƒ má»Ÿ public key cá»§a SSH key lÃªn sáº½ tháº¥y email trong Ä‘Ã³) </p><p> NÃ³ sáº½ yÃªu cáº§u báº¡n nháº­p tÃªn file Ä‘á»ƒ lÆ°u, náº¿u báº¡n enter thÃ¬ nÃ³ sáº½ láº¥y tÃªn file máº·c Ä‘á»‹nh nhÆ° trong dáº¥u <code>()</code>. </p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token plain">Enter </span><span class="token function" style="color:rgb(80, 250, 123);">file</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic;">in</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123);">which</span><span class="token plain"> to save the key </span><span class="token punctuation" style="color:rgb(248, 248, 242);">(</span><span class="token plain">/c/Users/dutha/.ssh/id_ed25519</span><span class="token punctuation" style="color:rgb(248, 248, 242);">)</span><span class="token plain">:</span></div></pre></div><blockquote><p> Náº¿u báº¡n chÆ°a quen vá»›i ssh key thÃ¬ mÃ¬nh khuyÃªn báº¡n nÃªn enter, Ä‘á»«ng thay Ä‘á»•i tÃªn file lÃ m gÃ¬ </p></blockquote><blockquote><p> LÆ°u Ã½ lÃ  khi nháº­p tÃªn file pháº£i nháº­p Ä‘áº§y Ä‘á»§ Ä‘Æ°á»ng dáº«n lÆ°u file tÆ°Æ¡ng tá»± nhÆ° trong dáº¥u <code>()</code> nhÃ©. </p></blockquote><p> Tiáº¿p theo nÃ³ sáº½ yÃªu cáº§u báº¡n nháº­p passphrase (tÆ°Æ¡ng tá»± password thÃ´i). CÃ¡ nhÃ¢n mÃ¬nh thÃ¬ khÃ´ng nháº­p, cá»© Enter thÃ´i vÃ¬ khi nháº­p sau nÃ y má»—i khi lÃ m viá»‡c vá»›i Git pháº£i nháº­p passphrase khÃ¡ má»‡t </p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token plain">Enter passphrase </span><span class="token punctuation" style="color:rgb(248, 248, 242);">(</span><span class="token plain">empty </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic;">for</span><span class="token plain"> no passphrase</span><span class="token punctuation" style="color:rgb(248, 248, 242);">)</span><span class="token plain">:</span></div></pre></div><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token plain">Enter same passphrase again:</span></div></pre></div><p> Sau khi táº¡o thÃ nh cÃ´ng thÃ¬ nÃ³ sáº½ sinh ra cho báº¡n 2 file lÃ  private key vÃ  public key theo Ä‘Æ°á»ng dáº«n mÃ  báº¡n nháº­p tÃªn file. File chá»©a public key sáº½ cÃ³ Ä‘uÃ´i <code>.pub</code> phÃ­a sau. </p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token plain">Your identification has been saved </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic;">in</span><span class="token plain"> /c/Users/dutha/.ssh/id_duthanhduoc10</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">Your public key has been saved </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic;">in</span><span class="token plain"> /c/Users/dutha/.ssh/id_duthanhduoc10.pub</span></div></pre></div><p> Äá»ƒ Ä‘á»c ná»™i dung public SSH key thÃ¬ báº¡n chá»‰ cÃ³ khÃ¡ nhiá»u cÃ¡ch, báº¡n dÃ¹ng cÃ¡ch nÃ o dÆ°á»›i Ä‘Ã¢y cÅ©ng Ä‘Æ°á»£c. VÃ­ dá»¥ file public key cá»§a mÃ¬nh bÃªn trÃªn lÃ  <code>id_duthanhduoc10.pub</code></p><ul><li><div> Copy Ä‘Æ°á»ng dáº«n nÃ y <code>c:/Users/dutha/.ssh/id_duthanhduoc10.pub</code> bá» lÃªn Chrome thÃ¬ nÃ³ sáº½ ra ná»™i dung cá»§a public key </div></li><li><div> DÃ¹ng git bash gÃµ <code>cat /c/Users/dutha/.ssh/id_duthanhduoc10.pub</code> nÃ³ sáº½ ra public key </div></li><li><div> Hoáº·c tÃ¬m Ä‘áº¿n cÃ¡i file Ä‘Ã³ trong thÆ° má»¥c vÃ  má»Ÿ nÃ³ lÃªn báº±ng Notepad, cÃ¡c báº¡n sáº½ cÃ³ Ä‘Æ°á»£c public key </div></li></ul><p> Sau khi cÃ³ public key rá»“i thÃ¬ chá»‰ cáº§n quay trá»Ÿ láº¡i trang web Ä‘ang lÃ m dá»¡ lÃºc nÃ£y, click vÃ o <strong>Add New</strong> Ä‘á»ƒ thÃªm SSH Key vÃ o. </p><h4 id="tao-file-config-chi-lam-khi-ban-dat-ten-file-ssh-khac-ten-file-mac-dinh"> ğŸ¥‰Táº¡o file <code>config</code> (chá»‰ lÃ m khi báº¡n Ä‘áº·t tÃªn file ssh khÃ¡c tÃªn file máº·c Ä‘á»‹nh) </h4><p> Trong trÆ°á»ng há»£p báº¡n thay Ä‘á»•i tÃªn file thÃ¬ báº¡n pháº£i táº¡o má»™t file <code>config</code> trong thÆ° má»¥c <code>.ssh</code> vá»›i ná»™i dung nhÆ° dÆ°á»›i Ä‘Ã¢y thÃ¬ github má»›i hiá»ƒu Ä‘Æ°á»£c. </p><p>cd vÃ o thÆ° má»¥c <code>.ssh</code></p><p> Táº¡o 1 file <code>config</code> trong thÆ° má»¥c <code>.ssh</code> cá»§a user <code>duoc</code>. Anh em thay tháº¿ chá»¯ <code>duoc</code> thÃ nh username anh em nhÃ©. </p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token function" style="color:rgb(80, 250, 123);">touch</span><span class="token plain"> /c/Users/dutha/.ssh/config</span></div></pre></div><p>Edit file <code>config</code> vá»«a táº¡o</p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token function" style="color:rgb(80, 250, 123);">nano</span><span class="token plain"> /c/Users/dutha/.ssh/config</span></div></pre></div><p> Copy Ä‘oáº¡n code phÃ­a dÆ°á»›i vÃ o, sá»­a <code>ten_file_private_key_ssh</code> thÃ nh tÃªn file chá»©a private key ssh cá»§a báº¡n </p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token comment" style="color:rgb(98, 114, 164);">#Default GitHub</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">Host github.com</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">HostName github.com</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">User </span><span class="token function" style="color:rgb(80, 250, 123);">git</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">IdentityFile ~/.ssh/ten_file_private_key_ssh</span></div></pre></div><p> Äá»ƒ lÆ°u thÃ¬ nháº¥n <code>Ctrl X</code> -&gt; <code>Y</code> -&gt; <code>Enter</code></p><p>Tháº¿ lÃ  xong!</p><hr><h2 id="cau-hinh-vps-server-cua-ban">ğŸ¥‡Cáº¥u hÃ¬nh vps server cá»§a báº¡n</h2><p>BÃ¢y giá» báº¡n Ä‘Ã£ cÃ³ má»™t server má»›i toanh dá»±a trÃªn nhá»¯ng gÃ¬ báº¡n Ä‘Ã£ lá»±a chá»n.</p><p>Trong pháº§n nÃ y, chÃºng ta sáº½ truy cáº­p server thÃ´ng qua OpenSSH Client.</p><p> Táº¥t nhiÃªn anh em cÅ©ng cÃ³ thá»ƒ dÃ¹ng Putty, tham kháº£o bÃ i nÃ y Ä‘á»ƒ biáº¿t cÃ¡ch <a rel="noopener noreferrer nofollow" title="Káº¿t ná»‘i Ä‘áº¿n má»™t server sá»­ dá»¥ng SSH key" href="https://www.vultr.com/docs/connect-to-a-server-using-an-ssh-key">Káº¿t ná»‘i Ä‘áº¿n má»™t server sá»­ dá»¥ng SSH key</a></p><h3 id="truy-cap-den-server-su-dung-root">ğŸ¥ˆTruy cáº­p Ä‘áº¿n server sá»­ dá»¥ng root</h3><p> Sau khi táº¡o xong má»™t instance VPS thÃ¬ anh em sáº½ cÃ³ cÃ¡c thÃ´ng tin nhÆ° Username (root) vÃ  Ä‘á»‹a chá»‰ IP cÅ©ng nhÆ° Password </p>',36),On={class:"my-8"},Wn={target:"_blank",rel:"noopener",title:"ThÃ´ng tin instance sau khi táº¡o"},Yn={class:"m-auto block max-h-screen max-w-full rounded-xl object-cover shadow-md",alt:"ThÃ´ng tin instance sau khi táº¡o",loading:"lazy"},Xn=n("figcaption",{class:"py-4 text-center text-[0.9em] italic"}," ThÃ´ng tin instance sau khi táº¡o ",-1),Qn=f(`<p>BÃ¢y giá» Ä‘á»ƒ truy cáº­p Ä‘áº¿n server thÃ¬ anh em cáº§n chuáº©n bá»‹ cho mÃ¬nh 3 thá»©</p><ul><li><div> Má»™t terminal Ä‘Ã£ enable giao thá»©c SSH. GÃµ <code>ssh -V</code> náº¿u ra ra thÃ´ng tin version thÃ¬ cÃ³ nghÄ©a lÃ  cÃ i rá»“i. Náº¿u anh em Windows chÆ°a cÃ i thÃ¬ cÃ i Git SCM thÃ¬ tá»± nÃ³ cÃ³. </div></li><li><div>Password cá»§a server</div></li><li><div>IP server</div></li></ul><p> OK, BÃ¢y giá» anh em má»Ÿ terminal lÃªn gÃµ cÃ¢u lá»‡nh bÃªn dÆ°á»›i, thay tháº¿ <code>ip_address</code> lÃ  Ä‘á»‹a chá»‰ IP server cá»§a anh em. </p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token function" style="color:rgb(80, 250, 123);">ssh</span><span class="token plain"> root@ip_address</span></div></pre></div><p>Náº¿u xuáº¥t hiá»‡n warning hay cáº£nh bÃ¡o gÃ¬, cá»© cháº¥p thuáº­n nÃ³.</p><p> Náº¿u anh em dÃ¹ng tÃªn file máº·c Ä‘á»‹nh lÃºc táº¡o ssh key á»Ÿ mÃ¡y cÃ¡ nhÃ¢n thÃ¬ tá»± Ä‘á»™ng nÃ³ sáº½ vÃ o luÃ´n mÃ  khÃ´ng cáº§n nháº­p password. Náº¿u táº¡o má»™t cÃ¡i tÃªn file khÃ¡c thÃ¬ dÃ¹ng cÃ¢u lá»‡nh dÆ°á»›i Ä‘Ã¢y, truyá»n cÃ¡i Ä‘Æ°á»ng dáº«n Ä‘áº¿n file private key cá»§a anh em vÃ o. NhÆ° tháº¿ nÃ y thÃ¬ anh em sáº½ khÃ´ng cáº§n nháº­p password cá»§a <code>root</code> user ná»¯a. </p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token function" style="color:rgb(80, 250, 123);">ssh</span><span class="token plain"> -i /path/to/your/id_rsa root@ip_address</span></div></pre></div><p>Sau khi login thÃ nh cÃ´ng thÃ¬ bÃ¢y giá» anh em Ä‘Ã£ á»Ÿ trong server Vultr rá»“i.</p><p> Root user trong mÃ´i trÆ°á»ng Linux cÃ³ quyá»n háº¡n ráº¥t rá»™ng, vÃ¬ nÃªn báº¡n khÃ´ng nÃªn dÃ¹ng nÃ³ thÆ°á»ng xuyÃªn. Nhá»¡ Ä‘Ã¢u anh em thay Ä‘á»•i gÃ¬ Ä‘Ã³ vÃ´ tÃ¬nh lÃ m háº¡i há»‡ Ä‘iá»u hÃ nh lÃ  toang. </p><p> Do Ä‘Ã³, á»Ÿ bÆ°á»›c tiáº¿p theo chÃºng ta sáº½ táº¡o má»™t tÃ i khoáº£n thay tháº¿ Ä‘á»ƒ giá»›i háº¡n quyá»n hÃ nh cho cÃ¡c tÃ¡c vá»¥ háº±ng ngÃ y. </p><blockquote><p> Náº¿u anh em gáº·p lá»—i <strong>WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!</strong> thÃ¬ chá»‰ cáº§n cháº¡y cÃ¢u lá»‡nh <code>ssh-keygen -R &quot;ip_address&quot;</code> lÃ  Ä‘Æ°á»£c. CÃ¢u lá»‡nh nÃ y sáº½ xÃ³a táº¥t cáº£ cÃ¡c key thuá»™c vá» <code>ip_address</code> trong file <code>./ssh/known_hosts</code></p></blockquote><h3 id="tao-mot-user-moi-tren-linux">ğŸ¥ˆTáº¡o má»™t user má»›i trÃªn linux</h3><p> Sau khi Ä‘Ã£ login nhÆ° má»™t root user rá»“i, bÃ¢y giá» cÃ¡c báº¡n gÃµ cÃ¢u lá»‡nh bÃªn dÆ°á»›i (thay tháº¿ <code>duoc</code> lÃ  username cá»§a cÃ¡c báº¡n) </p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token plain">adduser duoc</span></div></pre></div><p>NÃ³ sáº½ yÃªu cáº§u táº¡o password cho username nÃ y, anh em nháº­p vÃ o vÃ  ghi nhá»› nhÃ©.</p><p>Má»™t sá»‘ cÃ¢u há»i tÃ¹y chá»n cÃ²n láº¡i anh em chá»‰ cáº§n nháº¥n <code>Enter</code> Ä‘á»ƒ skip qua.</p><p> BÃ¢y giá» anh em Ä‘Ã£ cÃ³ má»™t tÃ i khoáº£n user má»›i vá»›i cÃ¡c quyá»n háº¡n thÃ´ng thÆ°á»ng. NhÆ°ng Ä‘Ã´i khi thÃ¬ anh em sáº½ bá»‹ yÃªu cáº§u quyá»n root khi thá»±c hiá»‡n cÃ¡c tÃ¡c vá»¥ Ä‘áº·c biá»‡t. LÃºc nÃ y anh em chá»‰ cáº§n thÃªm cÃ¢u lá»‡nh <code>sudo</code> trÆ°á»›c má»—i dÃ²ng lá»‡nh lÃ  Ä‘Æ°á»£c. </p><p> Äá»ƒ lÃ m Ä‘Æ°á»£c Ä‘iá»u nÃ y, chÃºng ta cáº§n thÃªm ngÆ°á»i dÃ¹ng má»›i táº¡o vÃ o nhÃ³m <code>sudo</code> trÃªn vps </p><p> Táº¡i root user, cháº¡y cÃ¢u lá»‡nh bÃªn dÆ°á»›i Ä‘á»ƒ add user cá»§a báº¡n vÃ o <code>sudo</code> group (thay tháº¿ <code>duoc</code> vá»›i username cá»§a cÃ¡c báº¡n) </p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token function" style="color:rgb(80, 250, 123);">usermod</span><span class="token plain"> -aG </span><span class="token function" style="color:rgb(80, 250, 123);">sudo</span><span class="token plain"> duoc</span></div></pre></div><p>BÃ¢y giá» thÃ¬ user cá»§a báº¡n cÃ³ thá»ƒ cháº¡y cÃ¡c cÃ¢u lá»‡nh vá»›i quyá»n háº¡n root!</p><p>CÃ¡c báº¡n cÃ³ thá»ƒ login VPS báº±ng username vÃ  password vá»«a táº¡o thay vÃ¬ root user.</p><p> Hoáº·c cÅ©ng cÃ³ thá»ƒ chuyá»ƒn qua láº¡i giá»¯a cÃ¡c user báº±ng cÃ¢u lá»‡nh dÆ°á»›i Ä‘Ã¢y (thay tháº¿ <code>duoc</code> lÃ  username cá»§a cÃ¡c báº¡n), náº¿u nÃ³ yÃªu cáº§u nháº­p password thÃ¬ cÃ¡c báº¡n enter password cá»§a user Ä‘Ã­ch Ä‘áº¿n. </p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token function" style="color:rgb(80, 250, 123);">su</span><span class="token plain"> - duoc</span></div></pre></div><h3 id="them-ssh-key-o-may-ca-nhan-vao-user-moi-tao-tren-vps"> ğŸ¥ˆThÃªm ssh key á»Ÿ mÃ¡y cÃ¡ nhÃ¢n vÃ o user má»›i táº¡o trÃªn VPS </h3><p> Hiá»‡n táº¡i thÃ¬ chÃºng ta truy cáº­p vÃ o VPS vá»›i user <code>root</code> thÃ¬ khÃ´ng cáº§n nháº­p máº­t kháº©u, nhÆ°ng vá»›i user má»›i táº¡o thÃ¬ cáº§n pháº£i nháº­p. Äiá»u nÃ y khÃ´ng cáº§n thiáº¿t vÃ  cÅ©ng khÃ´ng an toÃ n. ChÃºng ta cÃ³ thá»ƒ truy cáº­p khÃ´ng cáº§n nháº­p máº­t kháº©u tÆ°Æ¡ng tá»± vá»›i <code>root</code>. </p><p> Váº­y nÃªn chÃºng ta cáº§n thÃªm ssh key vÃ o user má»›i táº¡o, cÃ²n user <code>root</code> thÃ¬ nÃ³ Ä‘Ã£ tá»± Ä‘á»™ng Ä‘Æ°á»£c thÃªm lÃºc deploy VPS rá»“i. </p><p> ğŸš€CÃ¡ch 1 thÃ¬ chÃºng ta cÃ´ng cá»¥ <code>ssh-copy-id</code> (cÃ¡i <code>ssh-copy-id</code> nÃ y Ä‘Ã£ cÃ i sáºµn trÃªn git bash, cÃ¡c mÃ¡y linux, mac workstation thÃ¬ cÃ³ thá»ƒ cÃ i theo <a rel="noopener noreferrer nofollow" title="hÆ°á»›ng dáº«n nÃ y" href="https://www.ssh.com/ssh/copy-id#ssh-copy-id-on-mac">hÆ°á»›ng dáº«n nÃ y</a>) </p><p> Thay tháº¿ <code>~/.ssh/id_rsa.pub</code> thÃ nh Ä‘Æ°á»ng dáº«n public key anh em, <code>root@192.0.2.123</code> thÃ nh username vÃ  ip address tÆ°Æ¡ng á»©ng. </p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token plain">ssh-copy-id -i ~/.ssh/id_rsa.pub root@192.0.2.123</span></div></pre></div><p>ğŸš€CÃ¡ch 2 thÃ¬ chÃºng ta lÃ m thá»§ cÃ´ng</p><ol><li><div>SSH Ä‘áº¿n server vá»›i username vá»«a táº¡o</div></li><li><div> Táº¡o thÆ° má»¥c <code>.ssh</code> trong thÆ° má»¥c home cá»§a user vá»«a táº¡o: <code>mkdir ~/.ssh</code></div></li><li><div> Táº¡o file <code>authorized_keys</code> trong thÆ° má»¥c <code>.ssh</code>: <code>sudo touch ~/.ssh/authorized_keys</code></div></li><li><div> Edit file <code>~/.ssh/authorized_keys</code> vá»›i cÃº phÃ¡p: <code>sudo nano ~/.ssh/authorized_keys</code></div></li><li><div>Copy public key cá»§a anh em vÃ o Ä‘Ã¢y</div></li><li><div> LÆ°u vÃ  thoÃ¡t báº±ng cÃº phÃ¡p <code>Ctrl X</code> -&gt; <code>Y</code> -&gt; <code>Enter</code></div></li></ol><h3 id="cai-dat-nodejs-len-vps-ubuntu">ğŸ¥ˆCÃ i Ä‘áº·t Node.Js lÃªn VPS Ubuntu</h3><p>Login hoáº·c chuyá»ƒn sang user má»›i táº¡o nhÃ©</p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token function" style="color:rgb(80, 250, 123);">su</span><span class="token plain"> - duoc</span></div></pre></div><p>Cáº­p nháº­t cÃ¡c package má»›i</p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token function" style="color:rgb(80, 250, 123);">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123);">apt-get</span><span class="token plain"> update</span></div></pre></div><p>Cáº­p nháº­t cÃ¡c package Ä‘Ã£ cÃ i trong mÃ¡y</p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token function" style="color:rgb(80, 250, 123);">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123);">apt-get</span><span class="token plain"> upgrade</span></div></pre></div><p> CÃ i Ä‘áº·t NVM Ä‘á»ƒ quáº£n lÃ½ Node.Js version cho dá»…. BÃªn dÆ°á»›i lÃ  cÃ¢u lá»‡nh cÃ i NVM theo version hiá»‡n táº¡i mÃ¬nh viáº¿t bÃ i nÃ y, náº¿u anh em muá»‘n cÃ i theo version má»›i nháº¥t thÃ¬ <a rel="noopener noreferrer nofollow" title="click vÃ o link nÃ y Ä‘á»ƒ láº¥y cÃ¢u lá»‡nh" href="https://github.com/nvm-sh/nvm#install--update-script">click vÃ o link nÃ y Ä‘á»ƒ láº¥y cÃ¢u lá»‡nh</a></p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token function" style="color:rgb(80, 250, 123);">curl</span><span class="token plain"> -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.7/install.sh </span><span class="token operator">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123);">bash</span><span class="token plain"></span></div></pre></div><p> Sau khi cÃ i NVM xong nhÆ°ng anh em váº«n chÆ°a dÃ¹ng Ä‘Æ°á»£c Ä‘Ã¢u, anh em táº¯t terminal Ä‘i vÃ  login vÃ o láº¡i <strong>user má»›i táº¡o</strong> nhÃ©. </p><p>BÃ¢y giá» thÃ¬ anh em má»›i cÃ³ thá»ƒ dÃ¹ng NVM Ä‘Æ°á»£c.</p><p>Tiáº¿p theo anh em sáº½ cÃ i Node.Js</p><p> TÃ¹y theo version Node.Js anh em cháº¡y á»Ÿ local, anh em nÃªn cÃ i Ä‘Ãºng version Ä‘á»ƒ trÃ¡nh trÆ°á»ng há»£p local cháº¡y Ä‘Æ°á»£c nhÆ°ng deploy thÃ¬ láº¡i háº»o. </p><p>Náº¿u muá»‘n cÃ i phiÃªn báº£n 21 thÃ¬</p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token plain">nvm </span><span class="token function" style="color:rgb(80, 250, 123);">install</span><span class="token plain"> </span><span class="token number">21</span><span class="token plain"></span></div></pre></div><p>CÃ²n náº¿u muá»‘n cÃ i phiÃªn báº£n má»›i nháº¥t thÃ¬</p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token plain">nvm </span><span class="token function" style="color:rgb(80, 250, 123);">install</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123);">node</span><span class="token plain"></span></div></pre></div><p>Sau khi cÃ i Node.js xong thÃ¬ Ä‘á»ƒ kiá»ƒm tra Node.Js version máº¥y chá»‰ cáº§n</p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token function" style="color:rgb(80, 250, 123);">node</span><span class="token plain"> -v</span></div></pre></div><h3 id="cau-hinh-git-tren-vps">ğŸ¥ˆCáº¥u hÃ¬nh Git trÃªn VPS</h3><p> Äá»ƒ cÃ³ thá»ƒ kÃ©o code vá» server thÃ¬ anh em cáº§n cáº¥u hÃ¬nh git trÃªn server, má»—i khi cÃ³ cáº­p nháº­t má»›i á»Ÿ code thÃ¬ chá»‰ cáº§n truy cáº­p vÃ o server kÃ©o code vá», cháº¡y láº¡i cÃ¡c cÃ¢u lá»‡nh deploy lÃ  Ä‘Æ°á»£c. </p><blockquote><p> ÄÃ¢y lÃ  bÆ°á»›c cÆ¡ báº£n, sau nÃ y anh em sáº½ cÃ³ thá»ƒ thiáº¿t káº¿ cÃ¡c há»‡ thá»‘ng CI CD tá»± Ä‘á»™ng deploy. Chuyá»‡n Ä‘Ã³ Ä‘á»ƒ nhá»¯ng bÃ i khÃ¡c nhÃ©. </p></blockquote><p> BÃ¢y giá» anh em thá»±c hiá»‡n láº¡i y há»‡t cÃ¡i bÆ°á»›c táº¡o SSH Keys á»Ÿ mÃ¡y tÃ­nh cÃ¡ nhÃ¢n, chá»‰ khÃ¡c lÃ  anh em táº¡o á»Ÿ VPS. </p><p> Äá»ƒ Ã½ cÃ¡i vá»¥ tÃªn file nhÃ©, anh em nÃ o khÃ´ng rÃµ thÃ¬ cá»© Ä‘á»ƒ máº·c Ä‘á»‹nh Ä‘i, vÃ¬ sá»­a tÃªn táº§m báº­y lÃ  pháº£i táº¡o file <code>config</code> nhÆ° bÃªn trÃªn Ä‘Ã³. </p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token plain">ssh-keygen -t ed25519 -C </span><span class="token string" style="color:rgb(255, 121, 198);">&quot;your_email@example.com&quot;</span><span class="token plain"></span></div></pre></div><p> Tiáº¿p theo cá»© nháº¥n Enter Enter vÃ  cuá»‘i cÃ¹ng lÃ  copy public key, (anh em thay cÃ¡i <code>duoc</code> thÃ nh username vÃ  <code>ten_ssh_file.pub</code> thÃ nh tÃªn file public key ssh cá»§a anh em) </p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token function" style="color:rgb(80, 250, 123);">cat</span><span class="token plain"> /home/duoc/.ssh/ten_ssh_file.pub</span></div></pre></div><p>Láº¥y Ä‘Æ°á»£c public key, anh em thÃªm public key vÃ o pháº§n Add SSH Key Github cá»§a anh em.</p><p>Sau khi add xong rá»“i thÃ¬ anh em chá»‰ cáº§n clone repo cá»§a anh em vá» VPS</p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token function" style="color:rgb(80, 250, 123);">git</span><span class="token plain"> clone git@github.com:usernameGithub/tenRepo.git</span></div></pre></div><p> Sá»Ÿ dÄ© chÃºng ta cÃ³ thá»ƒ dÃ¹ng Ä‘Æ°á»£c cÃ¢u lá»‡nh git vÃ¬ git Ä‘Æ°á»£c cÃ i Ä‘áº·t sáºµn trong VPS Ubuntu rá»“i. </p><h3 id="deploy-du-an-nextjs-hoac-nodejs-tren-server-vps"> ğŸ¥ˆDeploy dá»± Ã¡n Next.Js (hoáº·c Node.Js) trÃªn Server VPS </h3><p>Äáº§u tiÃªn cáº§n cd vÃ o Ä‘Ãºng Ä‘Æ°á»ng dáº«n vá»«a clone vá»</p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token builtin class-name" style="color:rgb(189, 147, 249);">cd</span><span class="token plain"> tenRepo</span></div></pre></div><p>CÃ i <strong>yarn</strong> vÃ  <strong>pm2</strong> global</p><blockquote><p>Náº¿u dá»± Ã¡n anh em khÃ´ng dÃ¹ng yarn thÃ¬ khÃ´ng cáº§n cÃ i cÅ©ng Ä‘Æ°á»£c</p></blockquote><blockquote><p> PM2 lÃ  má»™t thÆ° viá»‡n giÃºp quáº£n lÃ½ tiáº¿n trÃ¬nh cho cÃ¡c á»©ng dá»¥ng Node.Js. NÃ³ giÃºp á»©ng dá»¥ng Node.Js cá»§a anh em hoáº¡t Ä‘á»™ng mÃ£i mÃ£i, cho dÃ¹ cÃ³ reboot láº¡i VPS thÃ¬ nÃ³ sáº½ má»Ÿ lÃªn láº¡i ngay. </p></blockquote><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token function" style="color:rgb(80, 250, 123);">npm</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123);">install</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123);">yarn</span><span class="token plain"> -g</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123);">npm</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123);">install</span><span class="token plain"> pm2 -g</span></div></pre></div><p>Tiáº¿n hÃ nh cÃ i Ä‘áº·t cÃ¡c package dá»± Ã¡n</p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token function" style="color:rgb(80, 250, 123);">yarn</span><span class="token plain"></span></div></pre></div><p> Náº¿u á»©ng dá»¥ng Next.Js thÃ¬ anh em cáº§n build, cÃ²n Node.Js thÃ¬ tÃ¹y code anh em cÃ³ cáº§n build hay khÃ´ng nhÃ© </p><p>Vá»›i Next.Js thÃ¬ ta cáº§n build dá»± Ã¡n</p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token function" style="color:rgb(80, 250, 123);">yarn</span><span class="token plain"> build</span></div></pre></div><p>Tiáº¿p theo cháº¡y dá»± Ã¡n Next.Js hoáº·c Node.Js lÃªn coi thá»­ cÃ³ lá»—i gÃ¬ khÃ´ng</p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token function" style="color:rgb(80, 250, 123);">yarn</span><span class="token plain"> start</span></div></pre></div><p> LÃºc nÃ y náº¿u khÃ´ng lá»—i thÃ¬ anh em cÃ³ thá»ƒ truy cáº­p Ä‘áº¿n website (hoáº·c API) cá»§a anh em qua Ä‘á»‹a chá»‰ IP vÃ  port rá»“i </p><p> VÃ­ dá»¥ IP cá»§a VPS mÃ¬nh lÃ  45.12.123.123 vÃ  port Next.js mÃ¬nh lÃ  3000 thÃ¬ mÃ¬nh chá»‰ cáº§n má»Ÿ trÃ¬nh duyá»‡t lÃªn nháº­p URL <code>45.12.123.123:3000</code> vÃ o lÃ  tháº¥y </p><p>Cháº¡y á»•n rá»“i thÃ¬ anh em táº¯t App Ä‘i nhÃ©, nháº¥n <code>Ctrl + C</code> Ä‘á»ƒ táº¯t tiáº¿n trÃ¬nh</p><p> BÃ¢y giá» chÃºng ta sáº½ tiáº¿n hÃ nh cháº¡y Next.js vá»›i PM2, anh em pháº£i cháº¯c cháº¯n ráº±ng Ä‘Ã£ á»Ÿ trong Ä‘Æ°á»ng dáº«n cá»§a app rá»“i nhÃ© </p><p>Cháº¡y cÃ¢u lá»‡nh bÃªn dÆ°á»›i</p><ul><li><div>Thay tháº¿ <code>website</code> thÃ nh tÃªn website cá»§a anh em</div></li><li><div> VÃ¬ cÃ¢u lá»‡nh run app mÃ¬nh lÃ  <code>yarn start</code> nÃªn mÃ¬nh Ä‘á»ƒ lÃ  <code>yarn -- start</code>, vÃ­ dá»¥ náº¿u anh em dÃ¹ng <code>npm deploy</code> thÃ¬ sá»­a láº¡i lÃ  <code>npm -- deploy</code></div></li></ul><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token plain">pm2 start --name</span><span class="token operator">=</span><span class="token plain">website </span><span class="token function" style="color:rgb(80, 250, 123);">yarn</span><span class="token plain"> -- start</span></div></pre></div><p> CÃ¢u lá»‡nh nÃ y sáº½ khá»Ÿi cháº¡y á»©ng dá»¥ng Next.Js cá»§a anh em, sau Ä‘Ã³ hiá»ƒn thá»‹ má»™t cÃ¡i báº£ng vá»›i name, process ID, status, CPU sá»­ dá»¥ng,... </p><p>Muá»‘n xem cÃ¡c tiáº¿n trÃ¬nh Ä‘ang cháº¡y bá»Ÿi pm2 thÃ¬ dÃ¹ng</p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token plain">pm2 </span><span class="token function" style="color:rgb(80, 250, 123);">ls</span><span class="token plain"></span></div></pre></div><p> Má»—i khi reboot VPS thÃ¬ chÃºng ta muá»‘n pm2 khá»Ÿi cháº¡y láº¡i cÃ¡c tiáº¿n trÃ¬nh trÆ°á»›c Ä‘Ã³, Ä‘á»ƒ lÃ m Ä‘Æ°á»£c Ä‘iá»u nÃ y </p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token plain">pm2 save</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">pm2 startup</span></div></pre></div><p>NÃ³ sáº½ in ra káº¿t quáº£ tÆ°Æ¡ng tá»± nhÆ° dÆ°á»›i Ä‘Ã¢y</p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token punctuation" style="color:rgb(248, 248, 242);">[</span><span class="token plain">PM2</span><span class="token punctuation" style="color:rgb(248, 248, 242);">]</span><span class="token plain"> Init System found: systemd</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242);">[</span><span class="token plain">PM2</span><span class="token punctuation" style="color:rgb(248, 248, 242);">]</span><span class="token plain"> You have to run this </span><span class="token builtin class-name" style="color:rgb(189, 147, 249);">command</span><span class="token plain"> as root. Execute the following command:</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123);">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123);">env</span><span class="token plain"> </span><span class="token assign-left variable environment constant" style="color:rgb(189, 147, 249);font-style:italic;">PATH</span><span class="token operator">=</span><span class="token environment constant" style="color:rgb(189, 147, 249);">$PATH</span><span class="token plain">:/usr/bin /usr/lib/node_modules/pm2/bin/pm2 startup systemd -u duoc --hp /home/duoc</span></div></pre></div><p> Anh em cáº§n copy cÃ¡i dÃ²ng cuá»‘i cÃ¹ng vÃ  cháº¡y, nhÆ° váº­y thÃ¬ PM2 luÃ´n luÃ´n start má»—i khi server khá»Ÿi Ä‘á»™ng </p><p>CÃ¢u lá»‡nh cá»§a báº¡n thÃ¬ tÆ°Æ¡ng tá»± dÆ°á»›i Ä‘Ã¢y</p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token function" style="color:rgb(80, 250, 123);">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123);">env</span><span class="token plain"> </span><span class="token assign-left variable environment constant" style="color:rgb(189, 147, 249);font-style:italic;">PATH</span><span class="token operator">=</span><span class="token environment constant" style="color:rgb(189, 147, 249);">$PATH</span><span class="token plain">:/usr/bin /usr/lib/node_modules/pm2/bin/pm2 startup systemd -u duoc --hp /home/duoc</span></div></pre></div><p> CÃ¡i nÃ y sáº½ táº¡o má»™t Ä‘Æ¡n vá»‹ <code>systemd</code> giÃºp PM2 cháº¡y trÃªn user cá»§a báº¡n má»—i khi khá»Ÿi Ä‘á»™ng. Äá»ƒ kiá»ƒm tra tráº¡ng thÃ¡i cá»§a Ä‘Æ¡n vá»‹ <code>systemd</code> má»›i táº¡o, sá»­ dá»¥ng cÃ¢u lá»‡nh dÆ°á»›i. </p><p>Thay tháº¿ <code>duoc</code> thÃ nh username cá»§a anh em.</p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token plain">systemctl status pm2-duoc</span></div></pre></div><p> CÃ³ thá»ƒ nÃ³ sáº½ in ra <code>inactive</code>, nhÆ°ng an tÃ¢m. BÃ¢y giá» hÃ£y tiáº¿n hÃ nh reboot láº¡i VPS vÃ  gÃµ láº¡i <code>systemctl status pm2-duoc</code> Ä‘á»ƒ check xem nÃ³ cÃ³ ra <code>active</code> khÃ´ng nhÃ©. </p><p> BÃ¢y giá» thÃ¬ web app Next.Js cá»§a anh em Ä‘Ã£ cháº¡y trÃªn port <code>3000</code> mÃ£i mÃ£i (náº¿u anh em Ä‘á»ƒ máº·c Ä‘á»‹nh), cho Ä‘áº¿n khi nÃ³i PM2 ngá»«ng </p><blockquote><p>Äá»ƒ xem cÃ¡c tiáº¿n trÃ¬nh Ä‘ang cháº¡y trÃªn PM2 thÃ¬ gÃµ <code>pm2 ls</code></p></blockquote><p> Trong tÆ°Æ¡ng lai, náº¿u cÃ³ update code. Táº¥t cáº£ nhá»¯ng gÃ¬ anh em cáº§n lÃ m lÃ  thá»±c hiá»‡n theo cÃ¡c bÆ°á»›c dÆ°á»›i Ä‘Ã¢y </p><ol><li><div>Push thay Ä‘á»•i code lÃªn Github/Gitlab</div></li><li><div>SSH vÃ o Vultr Server thÃ´ng qua terminal vá»›i username Ä‘Ã£ táº¡o</div></li><li><div>cd vÃ o folder dá»± Ã¡n trÃªn vps</div></li><li><div>pull code vá» báº±ng cÃ¢u lá»‡nh <code>git pull</code></div></li><li><div>CÃ i Ä‘áº·t láº¡i cÃ¡c package <code>yarn</code></div></li><li><div>Build Next.Js vá»›i <code>yarn build</code></div></li><li><div> Restart láº¡i tiáº¿n trÃ¬nh PM2 vá»›i <code>pm2 restart website</code> (thay <code>website</code> thÃ nh tÃªn website mÃ  anh em Ä‘Ã£ táº¡o á»Ÿ trÃªn kia) </div></li></ol><p>ğŸ”¥ CÃ¢u lá»‡nh redeploy rÃºt gá»n cá»§a mÃ¬nh khi login vÃ o vps Ä‘Ãºng vá»›i username lÃ </p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token builtin class-name" style="color:rgb(189, 147, 249);">cd</span><span class="token plain"> Portfolio </span><span class="token operator">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123);">git</span><span class="token plain"> pull </span><span class="token operator">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123);">yarn</span><span class="token plain"> build </span><span class="token operator">&amp;&amp;</span><span class="token plain"> pm2 restart portfolio</span></div></pre></div><p> Chá»‰ cáº§n cháº¡y 1 cÃ¢u lá»‡nh Ä‘Ã³ thÃ´i lÃ  nÃ³ tá»± lÃ m háº¿t má»i thá»© luÃ´n, hoáº·c anh em cÃ³ thá»ƒ setup Github Action Ä‘á»ƒ nÃ³ tá»± deploy. </p><hr><h2 id="tro-ten-mien-domain-ve-vps">ğŸ¥‡Trá» tÃªn miá»n (domain) vá» VPS</h2><p> ThÆ°á»ng thÃ¬ khi mua má»™t tÃªn miá»n thÃ¬ nhÃ  cung cáº¥p tÃªn miá»n Ä‘Ã³ sáº½ cho anh em 2 thá»© Ä‘á»ƒ setting </p><ul><li><div>DNS</div></li><li><div>Record (báº£n ghi)</div></li></ul><p>VÃ  khi dÃ¹ng 1 VPS thÃ¬ cÃ¡i instance Ä‘Ã³ cÅ©ng cho anh em 1 khu vá»±c Ä‘á»ƒ setting DNS</p><p> CÃ¡i tÃªn miá»n cá»§a anh em sáº½ dá»±a vÃ o cÃ¡i DNS nÃ y Ä‘á»ƒ phÃ¢n giáº£i tÃªn miá»n, anh em cÃ³ thá»ƒ chá»n dÃ¹ng cá»§a nhÃ  cung cáº¥p tÃªn miá»n hoáº·c bÃªn VPS </p><p>CÃ¡ nhÃ¢n mÃ¬nh thÃ¬ mÃ¬nh dÃ¹ng bÃªn nhÃ  cung cáº¥p tÃªn miá»n nhÃ©</p><h3 id="tro-ten-mien-chinh-ve-vps">ğŸ¥ˆTrá» tÃªn miá»n chÃ­nh vá» VPS</h3><p> BÃ¢y giá» thÃ¬ anh em chá»‰ cáº§n vÃ o pháº§n chá»‰nh sá»­a báº£n ghi bÃªn nhÃ  cung cáº¥p tÃªn miá»n thÃªm 2 record sau </p><p>TÆ°Æ¡ng á»©ng lÃ  TÃªn record (Host) - Type - Value - TTL</p><p> Nhá»› sá»­a <code>ip_vps_address</code> thÃ nh Ä‘á»‹a chá»‰ IP VPS cá»§a anh em, <code>example.com</code> thÃ nh tÃªn miá»n anh em. </p><ul><li><div>@ - A - ip_vps_address - 300</div></li><li><div>www - CNAME - example.com - 300</div></li></ul><blockquote><p> VÃ¬ cÃ³ A record nÃªn sau khi táº¡o, Ä‘á»£i 1 phÃºt sau hÃ£y truy cáº­p Ä‘á»ƒ trÃ¡nh bá»‹ dÃ­nh cache DNS. Náº¿u mÃ  dÃ­nh cache DNS thÃ¬ anh em sáº½ máº¥t 24-48h má»›i cÃ³ thá»ƒ truy cáº­p vÃ o Ä‘Æ°á»£c ğŸ¥² </p></blockquote><h3 id="tro-ten-mien-con-ve-vps">ğŸ¥ˆTrá» tÃªn miá»n con vá» VPS</h3><p> Trong trÆ°á»ng há»£p anh em dÃ¹ng tÃªn miá»n con (sub domain) dáº¡ng <code>sub.example.com</code> thÃ¬ táº¡o 2 record type <code>A</code> nhÆ° sau </p><ul><li><div>sub.example.com - A - ip_vps_address - 300</div></li><li><div>www.sub.example.com - A - ip_vps_address - 300</div></li></ul><p> Nhá»¯ng setting Nginx vÃ  Cerbot á»Ÿ phÃ­a dÆ°á»›i anh em Ä‘á»•i láº¡i thÃ nh tÃªn miá»n con tÆ°Æ¡ng á»©ng nhÃ©. </p><hr><h2 id="cai-va-cau-hinh-nginx">ğŸ¥‡CÃ i vÃ  cáº¥u hÃ¬nh Nginx</h2><h3 id="cai-dat-nginx">ğŸ¥ˆCÃ i Ä‘áº·t Nginx</h3><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token function" style="color:rgb(80, 250, 123);">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123);">apt-get</span><span class="token plain"> update </span><span class="token operator">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123);">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123);">apt-get</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123);">install</span><span class="token plain"> nginx</span></div></pre></div><h3 id="cau-hinh-tuong-lua-firewall">ğŸ¥ˆCáº¥u hÃ¬nh tÆ°á»ng lá»­a (firewall)</h3><p> Nginx Ä‘Äƒng kÃ½ trong ubuntu nhÆ° má»™t dá»‹ch vá»¥ <code>ufw</code> (tÆ°á»ng lá»­a Ä‘Æ¡n giáº£n). ChÃºng ta cáº§n cáº¥u hÃ¬nh láº¡i má»™t tÃ­ Ä‘á»ƒ truy cáº­p Ä‘áº¿n Nginx dá»… dÃ ng hÆ¡n. </p><p>Äá»ƒ liá»‡t kÃª cÃ¡c cáº¥u hÃ¬nh app mÃ  <code>ufw</code> biáº¿t thÃ¬ chá»‰ cáº§n gÃµ</p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token function" style="color:rgb(80, 250, 123);">sudo</span><span class="token plain"> ufw app list</span></div></pre></div><p>CÃ¡c báº¡n sáº½ nháº­n Ä‘Æ°á»£c danh sÃ¡ch profile dÆ°á»›i Ä‘Ã¢y</p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token plain">Available applications:</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">  Nginx Full</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">  Nginx HTTP</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">  Nginx HTTPS</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">  OpenSSH</span></div></pre></div><p>CÃ³ 3 loáº¡i profile cÃ³ sáºµn cho Nginx</p><ol><li><div><strong>Nginx Full</strong>: má»Ÿ port <code>80</code> (phá»• biáº¿n, traffic web khÃ´ng Ä‘Æ°á»£c mÃ£ hÃ³a) vÃ  port <code>443</code> (mÃ£ hÃ³a traffic TLS/SSL) </div></li><li><div><strong>Nginx HTTP</strong>: Chá»‰ má»Ÿ port <code>80</code> (phá»• biáº¿n, traffic web khÃ´ng Ä‘Æ°á»£c mÃ£ hÃ³a) </div></li><li><div><strong>Nginx HTTPS</strong>: Chá»‰ má»Ÿ port <code>443</code> (mÃ£ hÃ³a traffic TLS/SSL) </div></li></ol><p> Táº¥t nhiÃªn bÃ¢y giá» ai mÃ  dÃ¹ng giao thá»©c <code>http</code> ná»¯a, chuyá»ƒn sang <code>https</code> háº¿t rá»“i. Váº­y nÃªn anh em má»Ÿ full háº¿t cho mÃ¬nh. </p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token function" style="color:rgb(80, 250, 123);">sudo</span><span class="token plain"> ufw allow </span><span class="token string" style="color:rgb(255, 121, 198);">&#39;Nginx Full&#39;</span><span class="token plain"></span></div></pre></div><p>Äá»ƒ kiá»ƒm tra thay Ä‘á»•i thÃ¬ gÃµ</p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token function" style="color:rgb(80, 250, 123);">sudo</span><span class="token plain"> ufw status</span></div></pre></div><p>Anh em sáº½ tháº¥y <code>Nginx Full</code> Ä‘Æ°á»£c list ra á»Ÿ output</p><p> Náº¿u nÃ³ ra <code>inactive</code> nghÄ©a lÃ  tÆ°á»ng lá»­a Ä‘Ã£ bá»‹ táº¯t, chÃºng ta nÃªn báº­t tÆ°á»ng lá»­a lÃªn vÃ  chá»‰ nÃªn má»Ÿ má»™t sá»‘ port mÃ  chÃºng ta dÃ¹ng thÃ´i nhÃ©. </p><p> Trong bÃ i viáº¿t nÃ y lÃ  mÃ¬nh sáº½ má»Ÿ <code>Nginx Full</code> vÃ  <code>ssh</code>, vÃ¬ náº¿u khÃ´ng má»Ÿ <code>ssh</code> thÃ¬ anh em khÃ´ng ssh vÃ o server Ä‘Æ°á»£c. </p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token comment" style="color:rgb(98, 114, 164);"># Má»Ÿ port 22 (ssh), Nginx Full má»Ÿ rá»“i khÃ´ng cáº§n má»Ÿ láº¡i</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123);">sudo</span><span class="token plain"> ufw allow </span><span class="token function" style="color:rgb(80, 250, 123);">ssh</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164);"># Báº­t tÆ°á»ng lá»­a, nhÆ°ng cÃ¡i nÃ y chá»‰ báº­t trong phiÃªn lÃ m viá»‡c hiá»‡n táº¡i thÃ´i, reboot lÃ  nÃ³ tá»± táº¯t</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123);">sudo</span><span class="token plain"> ufw </span><span class="token builtin class-name" style="color:rgb(189, 147, 249);">enable</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164);"># Kiá»ƒm tra tráº¡ng thÃ¡i tÆ°á»ng lá»­a</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123);">sudo</span><span class="token plain"> ufw status</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164);"># YÃªu cáº§u tÆ°á»ng lá»­a lÃªn má»—i khi khá»Ÿi Ä‘á»™ng láº¡i server</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123);">sudo</span><span class="token plain"> systemctl </span><span class="token builtin class-name" style="color:rgb(189, 147, 249);">enable</span><span class="token plain"> ufw</span></div></pre></div><p> Trong trÆ°á»ng há»£p anh em lá»¡ chá»n <strong>Nginx HTTP</strong> mÃ  giá» muá»‘n xÃ³a thÃ¬ chá»‰ cáº§n cháº¡y </p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token function" style="color:rgb(80, 250, 123);">sudo</span><span class="token plain"> ufw delete allow </span><span class="token string" style="color:rgb(255, 121, 198);">&#39;Nginx HTTP&#39;</span><span class="token plain"></span></div></pre></div><h3 id="test-nginx-web-server">ğŸ¥ˆTest Nginx Web Server</h3><p>Äá»ƒ cháº¯c cháº¯n ráº±ng service Nginx Ä‘ang Ä‘Æ°á»£c cháº¡y, chá»‰ cáº§n cháº¡y cÃ¢u lá»‡nh</p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token plain">systemctl status nginx</span></div></pre></div><p> NÃ³ sáº½ ra output kiá»ƒu nhÆ° tháº¿ nÃ y, náº¿u anh em tháº¥y chá»¯ <code>active (running)</code> nghÄ©a lÃ  thÃ nh cÃ´ng rá»“i Ä‘Ã³ </p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token plain">â— nginx.service - A high performance web server and a reverse proxy server</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">    Loaded: loaded </span><span class="token punctuation" style="color:rgb(248, 248, 242);">(</span><span class="token plain">/lib/systemd/system/nginx.service</span><span class="token punctuation" style="color:rgb(248, 248, 242);">;</span><span class="token plain"> enabled</span><span class="token punctuation" style="color:rgb(248, 248, 242);">;</span><span class="token plain"> vendor preset: enabled</span><span class="token punctuation" style="color:rgb(248, 248, 242);">)</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">    Active: active </span><span class="token punctuation" style="color:rgb(248, 248, 242);">(</span><span class="token plain">running</span><span class="token punctuation" style="color:rgb(248, 248, 242);">)</span><span class="token plain"> since Mon </span><span class="token number">2016</span><span class="token plain">-04-18 </span><span class="token number">16</span><span class="token plain">:14:00 EDT</span><span class="token punctuation" style="color:rgb(248, 248, 242);">;</span><span class="token plain"> 4min 2s ago</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">  Main PID: </span><span class="token number">12857</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242);">(</span><span class="token plain">nginx</span><span class="token punctuation" style="color:rgb(248, 248, 242);">)</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">    CGroup: /system.slice/nginx.service</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">      â”œâ”€12857 nginx: master process /usr/sbin/nginx -g daemon on</span><span class="token punctuation" style="color:rgb(248, 248, 242);">;</span><span class="token plain"> master_process on</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">      â””â”€12858 nginx: worker process</span></div></pre></div><p> BÃ¢y giá» anh em gÃµ Ä‘á»‹a chá»‰ IP server lÃªn url trÃ¬nh duyá»‡t (<code>http://ip_address</code>), nÃ³ sáº½ ra cÃ¡i trang chÃ o má»«ng cá»§a Nginx dáº¡ng <strong>Welcome to nginx!</strong></p><h3 id="cau-hinh-nginx-lam-reverse-proxy">ğŸ¥ˆCáº¥u hÃ¬nh Nginx lÃ m Reverse Proxy</h3><p> BÃ¢y giá» thÃ¬ á»©ng dá»¥ng web cá»§a chÃºng ta Ä‘ang cháº¡y vÃ  láº¯ng nghe trÃªn <code>localhost:3000</code>, nhÆ°ng khÃ´ng thá»ƒ Ä‘á»ƒ ngÆ°á»i dÃ¹ng truy cáº­p thÃ´ng qua cÃ¡i port <code>3000</code> hay qua Ä‘á»‹a chá»‰ IP cá»§a VPS Ä‘Æ°á»£c. </p><p> Váº­y nÃªn chÃºng ta cáº§n sá»­ dá»¥ng Nginx Ä‘á»ƒ lÃ m cho má»i ngÆ°á»i truy cáº­p web app chÃºng ta thÃ´ng qua má»™t domain. </p><p>Äá»ƒ lÃ m Ä‘Æ°á»£c Ä‘iá»u nÃ y thÃ¬ chÃºng ta cáº§n sá»­ dá»¥ng Nginx nhÆ° má»™t reverse proxy</p><p> TrÃªn cÃ¡c há»‡ thá»‘ng Debian (vÃ­ dá»¥ nhÆ° Ubuntu), cÃ¡c file cáº¥u hÃ¬nh Nginx server Ä‘Æ°á»£c lÆ°u trá»¯ trong thÆ° má»¥c <code>/etc/nginx/sites-available</code> vÃ  Ä‘Æ°á»£c kÃ­ch hoáº¡t thÃ´ng qua thÆ° má»¥c <code>/etc/nginx/sites-enabled</code></p><p> Váº­y nÃªn chÃºng ta cáº§n táº¡o má»™t file cáº¥u hÃ¬nh trong thÆ° má»¥c <code>/etc/nginx/sites-available</code></p><p>Äáº§u tiÃªn cáº§n di chuyá»ƒn vÃ o thÆ° má»¥c <code>/etc/nginx/sites-available</code></p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token builtin class-name" style="color:rgb(189, 147, 249);">cd</span><span class="token plain"> /etc/nginx/sites-available</span></div></pre></div><p> Sau Ä‘Ã³, táº¡o má»™t file cáº¥u hÃ¬nh trong nÃ y (cáº§n dÃ¹ng <code>sudo</code> Ä‘á»ƒ thá»±c hiá»‡n nhá»¯ng thay Ä‘á»•i trong Ä‘Ã¢y) </p><p> Vá»›i <code>example.com</code> lÃ  tÃªn file, thÆ°á»ng thÃ¬ mÃ¬nh sáº½ Ä‘á»ƒ tÃªn file lÃ  domain cá»§a mÃ¬nh Ä‘á»ƒ dá»… quáº£n lÃ½. </p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token function" style="color:rgb(80, 250, 123);">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123);">touch</span><span class="token plain"> example.com</span></div></pre></div><p>Má»Ÿ file vÃ  edit báº±ng <code>nano</code></p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token function" style="color:rgb(80, 250, 123);">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123);">nano</span><span class="token plain"> example.com</span></div></pre></div><p>ThÃªm Ä‘oáº¡n code phÃ­a dÆ°á»›i vÃ o, anh em paste vÃ o rá»“i sá»­a cho nhanh.</p><ul><li><div><p>Sá»­a <code>example.com</code> thÃ nh domain cá»§a anh em nhÃ©</p></div></li><li><div><p>Sá»­a <code>http://localhost:3000</code> thÃ nh Ä‘Ãºng port cá»§a anh em nhÃ©</p></div></li></ul><div class="codeBlock"><div class="languageCode">nginx</div><button class="copyCode">Copy</button><pre class="prism-code language-nginx customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token plain">server {</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">        listen 80;</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">        listen [::]:80;</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain" style="display:inline-block;">
</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">        root /var/www/html;</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">        index index.html index.htm index.nginx-debian.html;</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain" style="display:inline-block;">
</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">        server_name example.com www.example.com;</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain" style="display:inline-block;">
</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">        location / {</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">                proxy_pass http://localhost:3000;</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">                proxy_http_version 1.1;</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">                proxy_set_header Upgrade $http_upgrade;</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">                proxy_set_header Connection &#39;upgrade&#39;;</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">                proxy_set_header Host $host;</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">                proxy_cache_bypass $http_upgrade;</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">        }</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">}</span></div></pre></div><p> LÆ°u vÃ  thoÃ¡t báº±ng cÃ¡ch nháº¥n tá»• há»£p <code>Ctrl X</code> -&gt; <code>Y</code> -&gt; <code>Enter</code></p><p> BÃ¢y giá» chÃºng ta cáº§n kÃ­ch hoáº¡t cÃ¡i file vá»«a táº¡o thÃ´ng qua thÆ° má»¥c <code>/sites-enabled</code>, chá»‰ cáº§n cháº¡y cÃ¢u lá»‡nh dÆ°á»›i Ä‘Ã¢y </p><p>HÃ£y cháº¯c cháº¯n ráº±ng Ä‘Ã£ thay <code>example.com</code> báº±ng tÃªn file mÃ  anh em vá»«a táº¡o</p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token function" style="color:rgb(80, 250, 123);">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123);">ln</span><span class="token plain"> -s /etc/nginx/sites-available/example.com /etc/nginx/sites-enabled/</span></div></pre></div><p> File cáº¥u hÃ¬nh cá»§a anh em Ä‘Ã£ Ä‘Æ°á»£c liÃªn káº¿t Ä‘áº¿n thÆ° má»¥c <code>/sites-enabled</code></p><p> Äá»ƒ trÃ¡nh váº¥n Ä‘á» <strong>hash bucket memory</strong> trong tÆ°Æ¡ng lai khi chÃºng ta thÃªm app, chÃºng ta cáº§n tinh chá»‰nh má»™t dÃ²ng trong file <code>/etc/nginx/nginx.conf</code></p><p>Má»Ÿ nÃ³ lÃªn báº±ng nano</p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token function" style="color:rgb(80, 250, 123);">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123);">nano</span><span class="token plain"> /etc/nginx/nginx.conf</span></div></pre></div><p> Trong file Ä‘Ã³, tÃ¬m cÃ¡i dÃ²ng comment lÃ  <code># server_names_hash_bucket_size 64;</code> vÃ  xÃ³a cÃ¡i kÃ½ tá»± <code>#</code> Ä‘á»ƒ má»Ÿ comment cho nÃ³. </p><p>Cuá»‘i cÃ¹ng ta cÃ³ nhÆ° tháº¿ nÃ y</p><div class="codeBlock"><div class="languageCode">nginx</div><button class="copyCode">Copy</button><pre class="prism-code language-nginx customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token plain">http {</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">    . . .</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain" style="display:inline-block;">
</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">    server_names_hash_bucket_size 64;</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain" style="display:inline-block;">
</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">    . . .</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">}</span></div></pre></div><p>LÆ°u vÃ  Ä‘Ã³ng file.</p><p> Tiáº¿p theo chÃºng ta sá»­ dá»¥ng cÃ¢u lá»‡nh <code>nginx -t</code> Ä‘á»ƒ kiá»ƒm tra lá»—i cÃº phÃ¡p trong nhá»¯ng file cáº¥u hÃ¬nh Ä‘Ã£ Ä‘Æ°á»£c táº¡o hoáº·c edit: </p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token function" style="color:rgb(80, 250, 123);">sudo</span><span class="token plain"> nginx -t</span></div></pre></div><p>Náº¿u khÃ´ng cÃ³ váº¥n Ä‘á» gÃ¬, restart Nginx Ä‘á»ƒ enable nhá»¯ng thay Ä‘á»•i vá»«a rá»“i.</p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token function" style="color:rgb(80, 250, 123);">sudo</span><span class="token plain"> systemctl restart nginx</span></div></pre></div><hr><h2 id="cau-hinh-ma-hoa-httpsssl">ğŸ¥‡Cáº¥u hÃ¬nh mÃ£ hÃ³a HTTPS/SSL</h2><p> Tiáº¿p theo chÃºng ta sáº½ sá»­ dá»¥ng dá»‹ch vá»¥ <a rel="noopener noreferrer nofollow" title="Let&#39;s Encrypt" href="https://letsencrypt.org/">Let&#39;s Encrypt</a> vÃ  pháº§n má»m <a rel="noopener noreferrer nofollow" title="Certbot" href="https://certbot.eff.org/">Certbot</a> Ä‘á»ƒ láº¥y vÃ  cÃ i Ä‘áº·t chá»©ng chá»‰ SSL miá»…n phÃ­ cho tÃªn miá»n chÃºng ta. </p><p> Let&#39;s Encrypt lÃ  má»™t Certificate Authority (CA) - CÆ¡ quan cáº¥p chá»©ng chá»‰, chÃºng ta cÃ³ thá»ƒ dá»… dÃ ng láº¥y chá»©ng chá»‰ SSL miá»…n phÃ­ Ä‘á»ƒ kÃ­ch hoáº¡t mÃ£ hÃ³a HTTPS trÃªn web server. Äiá»u nÃ y thá»±c hiá»‡n Ä‘Æ¡n giáº£n thÃ´ng qua pháº§n má»m Cerbot. </p><p>Ok, báº¯t Ä‘áº§u thÃ´i.</p><h3 id="cai-certbot-va-lay-chung-chi-ssl">ğŸ¥ˆCÃ i Certbot vÃ  láº¥y chá»©ng chá»‰ SSL</h3><p> HÆ°á»›ng dáº«n mÃ¬nh láº¥y <a rel="noopener noreferrer nofollow" title="tá»« Ä‘Ã¢y thÃ´i" href="https://certbot.eff.org/instructions?ws=nginx&amp;os=ubuntufocal">tá»« Ä‘Ã¢y thÃ´i</a></p><p>1.CÃ i Snapd</p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token function" style="color:rgb(80, 250, 123);">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123);">apt</span><span class="token plain"> update</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123);">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123);">apt</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123);">install</span><span class="token plain"> snapd</span></div></pre></div><p> 2.Náº¿u trÆ°á»›c Ä‘Ã³ Ä‘Ã£ cÃ i Certbot, hÃ£y gá»¡ nÃ³ Ä‘i (náº¿u VPS má»›i toanh hoáº·c khÃ´ng biáº¿t gÃ¬ thÃ¬ bá» qua bÆ°á»›c nÃ y) </p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token function" style="color:rgb(80, 250, 123);">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123);">apt-get</span><span class="token plain"> remove certbot</span></div></pre></div><p>3.CÃ i Certbot</p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token function" style="color:rgb(80, 250, 123);">sudo</span><span class="token plain"> snap </span><span class="token function" style="color:rgb(80, 250, 123);">install</span><span class="token plain"> --classic certbot</span></div></pre></div><p>4.Chuáº©n bá»‹ cerbot command</p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token function" style="color:rgb(80, 250, 123);">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123);">ln</span><span class="token plain"> -s /snap/bin/certbot /usr/bin/certbot</span></div></pre></div><p>5.CÃ i vÃ  láº¥y chá»©ng chá»‰</p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token function" style="color:rgb(80, 250, 123);">sudo</span><span class="token plain"> certbot --nginx</span></div></pre></div><blockquote><p> HÃ£y cháº¯c cháº¯n vá»›i mÃ¬nh ráº±ng báº¡n Ä‘Ã£ trá» tÃªn miá»n vá» VPS thÃ nh cÃ´ng nhÃ©, náº¿u chÆ°a thÃ¬ sáº½ bá»‹ lá»—i Ä‘áº¥y! </p></blockquote><p> Bá»Ÿi vÃ¬ Ä‘Ã¢y lÃ  láº§n Ä‘áº§u báº¡n cháº¡y Cerbot trÃªn server nÃ y, nÃ³ sáº½ yÃªu cáº§u báº¡n enter Ä‘á»‹a chá»‰ email vÃ  yÃªu cáº§u báº¡n Ä‘á»“ng Ã½ Ä‘iá»u khoáº£n. </p><p>Sau Ä‘Ã³, Certbot sáº½ giao tiáº¿p vá»›i server cá»§a Let&#39;s Encrypt Ä‘á»ƒ verify domain cá»§a báº¡n.</p><p>Náº¿u thÃ nh cÃ´ng, Certbot sáº½ há»i báº¡n muá»‘n cáº¥u hÃ¬nh HTTPS nhÆ° tháº¿ nÃ o.</p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token plain">Saving debug log to /var/log/letsencrypt/letsencrypt.log</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">Enter email address </span><span class="token punctuation" style="color:rgb(248, 248, 242);">(</span><span class="token plain">used </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic;">for</span><span class="token plain"> urgent renewal and security notices</span><span class="token punctuation" style="color:rgb(248, 248, 242);">)</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242);">(</span><span class="token plain">Enter </span><span class="token string" style="color:rgb(255, 121, 198);">&#39;c&#39;</span><span class="token plain"> to cancel</span><span class="token punctuation" style="color:rgb(248, 248, 242);">)</span><span class="token plain">: duthanhduoc@gmail.com</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain" style="display:inline-block;">
</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">Please </span><span class="token builtin class-name" style="color:rgb(189, 147, 249);">read</span><span class="token plain"> the Terms of Service at</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">https://letsencrypt.org/documents/LE-SA-v1.3-September-21-2022.pdf. You must</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">agree </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic;">in</span><span class="token plain"> order to register with the ACME server. Do you agree?</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242);">(</span><span class="token plain">Y</span><span class="token punctuation" style="color:rgb(248, 248, 242);">)</span><span class="token plain">es/</span><span class="token punctuation" style="color:rgb(248, 248, 242);">(</span><span class="token plain">N</span><span class="token punctuation" style="color:rgb(248, 248, 242);">)</span><span class="token plain">o: y</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain" style="display:inline-block;">
</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">Would you be willing, once your first certificate is successfully issued, to</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">share your email address with the Electronic Frontier Foundation, a founding</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">partner of the Let</span><span class="token string" style="color:rgb(255, 121, 198);">&#39;s Encrypt project and the non-profit organization that</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token string" style="color:rgb(255, 121, 198);">develops Certbot? We&#39;</span><span class="token plain">d like to send you email about our work encrypting the web,</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">EFF news, campaigns, and ways to support digital freedom.</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242);">(</span><span class="token plain">Y</span><span class="token punctuation" style="color:rgb(248, 248, 242);">)</span><span class="token plain">es/</span><span class="token punctuation" style="color:rgb(248, 248, 242);">(</span><span class="token plain">N</span><span class="token punctuation" style="color:rgb(248, 248, 242);">)</span><span class="token plain">o: y</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">Account registered.</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain" style="display:inline-block;">
</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">Which names would you like to activate HTTPS for?</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">We recommend selecting either all domains, or all domains </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic;">in</span><span class="token plain"> a VirtualHost/server block.</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain"></span><span class="token number">1</span><span class="token plain">: edu.duthanhduoc.com</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain"></span><span class="token number">2</span><span class="token plain">: api.edu.duthanhduoc.com</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain"></span><span class="token number">3</span><span class="token plain">: www.api.edu.duthanhduoc.com</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain"></span><span class="token number">4</span><span class="token plain">: www.edu.duthanhduoc.com</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">Select the appropriate numbers separated by commas and/or spaces, or leave input</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">blank to </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic;">select</span><span class="token plain"> all options shown </span><span class="token punctuation" style="color:rgb(248, 248, 242);">(</span><span class="token plain">Enter </span><span class="token string" style="color:rgb(255, 121, 198);">&#39;c&#39;</span><span class="token plain"> to cancel</span><span class="token punctuation" style="color:rgb(248, 248, 242);">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">Requesting a certificate </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic;">for</span><span class="token plain"> edu.duthanhduoc.com and </span><span class="token number">3</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123);">more</span><span class="token plain"> domains</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain" style="display:inline-block;">
</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">Successfully received certificate.</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">Certificate is saved at: /etc/letsencrypt/live/edu.duthanhduoc.com/fullchain.pem</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">Key is saved at:         /etc/letsencrypt/live/edu.duthanhduoc.com/privkey.pem</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">This certificate expires on </span><span class="token number">2024</span><span class="token plain">-03-17.</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">These files will be updated when the certificate renews.</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">Certbot has </span><span class="token builtin class-name" style="color:rgb(189, 147, 249);">set</span><span class="token plain"> up a scheduled task to automatically renew this certificate </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic;">in</span><span class="token plain"> the background.</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain" style="display:inline-block;">
</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">Deploying certificate</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">Successfully deployed certificate </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic;">for</span><span class="token plain"> edu.duthanhduoc.com to /etc/nginx/sites-enabled/edu.duthanhduoc.com</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">Successfully deployed certificate </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic;">for</span><span class="token plain"> api.edu.duthanhduoc.com to /etc/nginx/sites-enabled/api.edu.duthanhduoc.com</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">Successfully deployed certificate </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic;">for</span><span class="token plain"> www.api.edu.duthanhduoc.com to /etc/nginx/sites-enabled/api.edu.duthanhduoc.com</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">Successfully deployed certificate </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic;">for</span><span class="token plain"> www.edu.duthanhduoc.com to /etc/nginx/sites-enabled/edu.duthanhduoc.com</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">Congratulations</span><span class="token operator">!</span><span class="token plain"> You have successfully enabled HTTPS on https://edu.duthanhduoc.com, https://api.edu.duthanhduoc.com, https://www.api.edu.duthanhduoc.com, and https://www.edu.duthanhduoc.com</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">We were unable to subscribe you the EFF mailing list because your e-mail address appears to be invalid. You can try again later by visiting https://act.eff.org.</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain" style="display:inline-block;">
</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">If you like Certbot, please consider supporting our work by:</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain"> * Donating to ISRG / Let&#39;s Encrypt:   https://letsencrypt.org/donate</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain"> * Donating to EFF:                    https://eff.org/donate-le</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain" style="display:inline-block;">
</span></div></pre></div><p>Náº¿u in ra <code>Successfully</code> lÃ  thÃ nh cÃ´ng rá»“i.</p><p> Chá»©ng chá»‰ cá»§a anh em Ä‘Ã£ Ä‘Æ°á»£c táº£i vá» vÃ  cÃ i Ä‘áº·t. BÃ¢y giá» thá»­ vÃ o website vá»›i url báº¯t Ä‘áº§u báº±ng <code>https://</code> sáº½ tháº¥y thÃ nh quáº£. </p><p>Cuá»‘i cÃ¹ng lÃ  chÃºng ta sáº½ kiá»ƒm tra xem tiáº¿n trÃ¬nh tá»± Ä‘á»™ng lÃ m má»›i chá»©ng chá»‰.</p><p> CÃ¡c chá»©ng chá»‰ cá»§a Let&#39;s Encrypt&#39;s chá»‰ cÃ³ hiá»‡u lá»±c 90 ngÃ y. Váº­y nÃªn chÃºng ta cáº§n tá»± Ä‘á»™ng láº¥y láº¡i khi nÃ³ háº¿t háº¡n. </p><p> Package Cerbot mÃ  chÃºng ta Ä‘Ã£ cÃ i sáº½ giáº£i quyáº¿t váº¥n Ä‘á» nÃ y báº±ng cÃ¡ch cháº¡y cÃ¢u lá»‡nh <code>certbot renew</code> 2 láº§n 1 ngÃ y thÃ´ng qua má»™t bá»™ háº¹n giá» <code>systemd</code>. TÃ­nh nÄƒng nÃ y sáº½ Ä‘Æ°á»£c cung cáº¥p bá»Ÿi má»™t script Ä‘áº·t trong <code>/etc/cron.d</code>. Task nÃ y sáº½ cháº¡y 2 láº§n / 1 ngÃ y vÃ  sáº½ lÃ m má»›i báº¥t cá»© chá»©ng chá»‰ nÃ o mÃ  sáº½ háº¿t háº¡n trong 30 ngÃ y tá»›i. </p><p>Äá»ƒ test tiáº¿n trÃ¬nh lÃ m má»›i tá»± Ä‘á»™ng, anh em cÃ³ thá»ƒ cháº¡y cÃ¢u lá»‡nh dÆ°á»›i</p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token function" style="color:rgb(80, 250, 123);">sudo</span><span class="token plain"> certbot renew --dry-run</span></div></pre></div><p>Náº¿u khÃ´ng tháº¥y báº¥t cá»© lá»—i gÃ¬ tá»©c lÃ  thÃ nh cÃ´ng.</p><p> Khi cáº§n, Certbot sáº½ lÃ m má»›i chá»©ng chá»‰ vÃ  reload Nginx Ä‘á»ƒ nháº­n cÃ¡c thay Ä‘á»•i. Náº¿u quÃ¡ trÃ¬nh gia háº¡n tá»± Ä‘á»™ng khÃ´ng thÃ nh cÃ´ng, Let&#39;s Encrypt sáº½ gá»­i má»™t thÃ´ng bÃ¡o Ä‘áº¿n email báº¡n Ä‘Ã£ chá»‰ Ä‘á»‹nh, cáº£nh bÃ¡o báº¡n khi chá»©ng chá»‰ cá»§a báº¡n sáº¯p háº¿t háº¡n. </p><p>BÃ¢y giá» thÃ¬ website Next.js (hoáº·c Node.Js) Ä‘Ã£ Ä‘Æ°á»£c deploy thÃ nh cÃ´ng.</p><hr><h2 id="kich-hoat-http2-trong-nginx">ğŸ¥‡KÃ­ch hoáº¡t HTTP2 trong Nginx</h2><p> HTTP/2 lÃ  phiÃªn báº£n káº¿ thá»«a cá»§a HTTP/1.x vÃ  cung cáº¥p nhiá»u Æ°u Ä‘iá»ƒm nhÆ° xá»­ lÃ½ song song, full multiplex, nÃ©n header vÃ  tháº­m chÃ­ lÃ  cáº£ server push. Äiá»u quan trá»ng lÃ  thiáº¿t láº­p HTTP2 trong NGINX Ä‘á»ƒ cáº£i thiá»‡n tá»‘c Ä‘á»™ vÃ  hiá»‡u suáº¥t trang web. </p><p>TrÆ°á»›c khi kÃ­ch hoáº¡t thÃ¬ cáº§n Ä‘áº£m báº£o ráº±ng</p><ul><li><div> Báº¡n Ä‘ang sá»­ dá»¥ng Nginx 1.9.5 hoáº·c hÆ¡n. CÃ³ thá»ƒ kiá»ƒm tra version báº±ng cÃ¢u lá»‡nh <code>nginx -v</code></div></li><li><div>Báº¡n Ä‘Ã£ kÃ­ch hoáº¡t HTTPS/SSL.</div></li></ul><p> Äáº§u tiÃªn cáº§n má»Ÿ file cáº¥u hÃ¬nh Nginx. Thay tháº¿ <code>example.com</code> thÃ nh tÃªn file cáº¥u hÃ¬nh cá»§a báº¡n </p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token function" style="color:rgb(80, 250, 123);">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123);">nano</span><span class="token plain"> /etc/nginx/sites-enabled/example.com</span></div></pre></div><p>Náº¿u Ä‘Ã£ kÃ­ch hoáº¡t SSL trong Nginx rá»“i thÃ¬ sáº½ cÃ³ cÃ¡i dÃ²ng nÃ y</p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token plain">listen </span><span class="token number">443</span><span class="token plain"> ssl</span><span class="token punctuation" style="color:rgb(248, 248, 242);">;</span><span class="token plain"></span></div></pre></div><p>ThÃªm cÃ¡i <code>http2</code> á»Ÿ phÃ­a cuá»‘i trÆ°á»›c cÃ¡i dáº¥u <code>;</code> Ä‘á»ƒ thÃ nh nhÆ° tháº¿ nÃ y</p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token plain">listen </span><span class="token number">443</span><span class="token plain"> ssl http2</span><span class="token punctuation" style="color:rgb(248, 248, 242);">;</span><span class="token plain"></span></div></pre></div><p>Cuá»‘i cÃ¹ng thÃ¬ nÃ³ sáº½ cÃ³ dáº¡ng nhÆ° tháº¿ nÃ y</p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token plain">server </span><span class="token punctuation" style="color:rgb(248, 248, 242);">{</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">    listen </span><span class="token number">443</span><span class="token plain"> ssl http2</span><span class="token punctuation" style="color:rgb(248, 248, 242);">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">    ssl_certificate </span><span class="token punctuation" style="color:rgb(248, 248, 242);">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain">    ssl_certificate_key </span><span class="token punctuation" style="color:rgb(248, 248, 242);">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#F8F8F2;"><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242);">}</span><span class="token plain"></span></div></pre></div><p>Kiá»ƒm tra láº¡i file cáº¥u hÃ¬nh cÃ³ Ä‘Ãºng khÃ´ng</p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token function" style="color:rgb(80, 250, 123);">sudo</span><span class="token plain"> nginx -t</span></div></pre></div><p>Restart láº¡i Nginx Server</p><div class="codeBlock"><div class="languageCode">bash</div><button class="copyCode">Copy</button><pre class="prism-code language-bash customScrollbar"><div class="token-line" style="color:#F8F8F2;"><span class="token function" style="color:rgb(80, 250, 123);">sudo</span><span class="token plain"> systemctl restart nginx</span></div></pre></div><p> Äá»ƒ test HTTP2 thÃ¬ vÃ o <a rel="noopener noreferrer nofollow" title="keycnd" href="https://tools.keycdn.com/http2-test">keycnd</a></p><hr><h2 id="tom-lai">ğŸ¥‡TÃ³m láº¡i</h2><p> Cuá»‘i cÃ¹ng thÃ nh chÃºng ta Ä‘Ã£ hoÃ n thÃ nh viá»‡c triá»ƒn khai á»©ng dá»¥ng Next.Js (hoáº·c Node.Js) lÃªn mÃ´i trÆ°á»ng Internet vá»›i má»™t custom domain, mÃ£ hÃ³a HTTPS/SSL, vÃ  Nginx reverse proxy trÃªn má»™t VPS cá»§a Vultr. AE cÅ©ng biáº¿t cÃ¡ch cáº­p nháº­t láº¡i website náº¿u cÃ³ thay Ä‘á»•i gÃ¬ trong tÆ°Æ¡ng lai. </p><p>Cáº£m Æ¡n anh em Ä‘Ã£ Ä‘á»c Ä‘áº¿n Ä‘Ã¢y, chÃºc ae thÃ nh cÃ´ng ğŸš€</p><hr><h2 id="tham-khao">ğŸ¥‡Tham kháº£o</h2><p>Cáº£m Æ¡n tÃ i liá»‡u tham kháº£o tá»« ğŸ’“</p><ul><li><div><a rel="noopener noreferrer nofollow" title="How To Deploy A Next.js Website To A DigitalOcean Server" href="https://www.coderrocketfuel.com/article/how-to-deploy-a-next-js-website-to-a-digital-ocean-server">How To Deploy A Next.js Website To A DigitalOcean Server</a></div></li><li><div><a rel="noopener noreferrer nofollow" title="How To Enable HTTP2 in NGINX" href="https://ubiq.co/tech-blog/how-to-enable-http2-in-nginx/">How To Enable HTTP2 in NGINX</a></div></li></ul>`,240);function Zn(s,e,o,h,r,v){const a=$("lazy");return g(),k("div",an,[on,n("figure",en,[n("a",tn,[p(n("img",cn,null,512),[[a,"/meo.webp"]])]),ln]),n("figure",pn,[n("a",rn,[p(n("img",dn,null,512),[[a,"/meo.webp"]])]),hn]),n("figure",un,[n("a",gn,[p(n("img",vn,null,512),[[a,"/meo.webp"]])]),yn]),n("figure",kn,[n("a",mn,[p(n("img",bn,null,512),[[a,"/meo.webp"]])]),Fn]),n("figure",fn,[n("a",Cn,[p(n("img",_n,null,512),[[a,"/meo.webp"]])]),Sn]),wn,n("figure",xn,[n("a",Tn,[p(n("img",Nn,null,512),[[a,"/meo.webp"]])]),Pn]),Bn,n("figure",Vn,[n("a",Hn,[p(n("img",qn,null,512),[[a,"/meo.webp"]])]),An]),Ln,$n,n("figure",En,[n("a",Dn,[p(n("img",Mn,null,512),[[a,"/meo.webp"]])]),In]),jn,Jn,n("figure",Rn,[n("a",Un,[p(n("img",zn,null,512),[[a,"/meo.webp"]])]),Kn]),Gn,n("figure",On,[n("a",Wn,[p(n("img",Yn,null,512),[[a,"/meo.webp"]])]),Xn]),Qn])}const T=b(sn,[["render",Zn]]),ns=m({components:{},props:{},setup(){return{}}}),ss="/profile.webp",as=f('<h1 class="info-header">[HÆ°á»›ng dáº«n full] Deploy website Next.Js hoáº·c Node.Js lÃªn VPS</h1><div class="info-author"><a title="ThÃ´ng tin tÃ¡c giáº£"><img alt="Avatar VÃµ Cao Ká»³" loading="lazy" width="960" height="1280" decoding="async" data-nimg="1" src="'+ss+'"><div class="author-name"><div> VÃµ Cao Ká»³ </div><div class="created-date"><time datetime="2023-12-18">18 thÃ¡ng 12 2023 ğŸ‰ </time><span>30 phÃºt Ä‘á»c</span></div></div></a></div>',2),os=[as];function es(s,e,o,h,r,v){return g(),k("div",null,os)}const N=b(ns,[["render",es]]),ts=m({components:{DoubleRightOutlined:I,AAnchor:J},props:{items:{type:Array,required:!0}},setup(){const s=y(!1),e=y(95),o=()=>{s.value=!s.value};return w(()=>{window.innerWidth>=992&&(e.value=110)}),{targetOffset:e,readmore:o,readmoreActive:s}}}),cs={class:"scrollbar scrollbar-left"},ls=n("div",{class:"transparent"},null,-1),is={class:"loadmore"};function ps(s,e,o,h,r,v){const a=d("a-anchor"),i=d("DoubleRightOutlined");return g(),k("div",cs,[n("div",{class:C(["customscroll",{"readmore-active":s.readmoreActive}])},[c(a,{"target-offset":s.targetOffset,wrapperClass:"anchor-container",affix:!1,items:s.items},null,8,["target-offset","items"]),ls],2),n("div",is,[n("button",{onClick:e[0]||(e[0]=(...t)=>s.readmore&&s.readmore(...t))},[n("span",null," Read "+S(s.readmoreActive?"less":"more"),1),c(i,{class:C(["rotare",{"rotare-active":s.readmoreActive}])},null,8,["class"])])])])}const P=b(ts,[["render",ps]]),rs=[{key:"1",href:"#tao-mot-vultr-server-instance",title:"ğŸ¥‡Táº¡o má»™t Vultr Server Instance",children:[{key:"2",href:"#tao-mot-instance-moi-tren-vultr",title:"ğŸ¥ˆTáº¡o má»™t Instance má»›i trÃªn Vultr"},{key:"3",href:"#tao-ssh-key-o-may-tinh-ca-nhan",title:"ğŸ¥ˆTáº¡o SSH key á»Ÿ mÃ¡y tÃ­nh cÃ¡ nhÃ¢n"}]},{key:"4",href:"#cau-hinh-vps-server-cua-ban",title:"ğŸ¥‡Cáº¥u hÃ¬nh vps server cá»§a báº¡n",children:[{key:"5",href:"#truy-cap-den-server-su-dung-root",title:"ğŸ¥ˆTruy cáº­p Ä‘áº¿n server sá»­ dá»¥ng root"},{key:"6",href:"#tao-mot-user-moi-tren-linux",title:"ğŸ¥ˆTáº¡o má»™t user má»›i trÃªn linux"},{key:"7",href:"#them-ssh-key-o-may-ca-nhan-vao-user-moi-tao-tren-vps",title:"ğŸ¥ˆThÃªm ssh key á»Ÿ mÃ¡y cÃ¡ nhÃ¢n vÃ o user má»›i táº¡o trÃªn VPS"},{key:"8",href:"#cai-dat-nodejs-len-vps-ubuntu",title:"ğŸ¥ˆCÃ i Ä‘áº·t Node.Js lÃªn VPS Ubuntu"},{key:"9",href:"#cau-hinh-git-tren-vps",title:"ğŸ¥ˆCáº¥u hÃ¬nh Git trÃªn VPS"},{key:"10",href:"#deploy-du-an-nextjs-hoac-nodejs-tren-server-vps",title:"ğŸ¥ˆDeploy dá»± Ã¡n Next.Js (hoáº·c Node.Js) trÃªn Server VPS"}]},{key:"11",href:"#tro-ten-mien-domain-ve-vps",title:"ğŸ¥‡Trá» tÃªn miá»n (domain) vá» VPS",children:[{key:"12",href:"#tro-ten-mien-chinh-ve-vps",title:"ğŸ¥ˆTrá» tÃªn miá»n chÃ­nh vá» VPS"},{key:"13",href:"#tro-ten-mien-con-ve-vps",title:"ğŸ¥ˆTrá» tÃªn miá»n con vá» VPS"}]},{key:"14",href:"#cai-va-cau-hinh-nginx",title:"ğŸ¥‡CÃ i vÃ  cáº¥u hÃ¬nh Nginx",children:[{key:"15",href:"#cai-dat-nginx",title:"ğŸ¥ˆCÃ i Ä‘áº·t Nginx"},{key:"16",href:"#cau-hinh-tuong-lua-firewall",title:"ğŸ¥ˆCáº¥u hÃ¬nh tÆ°á»ng lá»­a (firewall)"},{key:"17",href:"#test-nginx-web-server",title:"ğŸ¥ˆTest Nginx Web Server"},{key:"18",href:"#cau-hinh-nginx-lam-reverse-proxy",title:"ğŸ¥ˆCáº¥u hÃ¬nh Nginx lÃ m Reverse Proxy"}]},{key:"19",href:"#cau-hinh-ma-hoa-httpsssl",title:"ğŸ¥‡Cáº¥u hÃ¬nh mÃ£ hÃ³a HTTPS/SSL",children:[{key:"20",href:"#cai-certbot-va-lay-chung-chi-ssl",title:"ğŸ¥ˆCÃ i Certbot vÃ  láº¥y chá»©ng chá»‰ SSL"}]},{key:"21",href:"#kich-hoat-http2-trong-nginx",title:"ğŸ¥‡KÃ­ch hoáº¡t HTTP2 trong Nginx"},{key:"22",href:"#tom-lai",title:"ğŸ¥‡TÃ³m láº¡i"},{key:"23",href:"#tham-khao",title:"ğŸ¥‡Tham kháº£o"}],ds=m({components:{LeftOutlined:j,RightScrollbar:x,AnchorItem:P,ProseItem:T,BlogInfo:N},setup(){const s=G(),e=E(K.isLoading),o=y(),h=y([]),r=y([]),{setCategory:v,activePaginate:a}=z();v([]),a(!1);const i=async t=>{e.value=!0,window.scrollTo({top:100,behavior:"smooth"});try{const l=await R(t);r.value=rs,Object.keys(l).length!==0&&(h.value=(await U(l.tags)).posts)}finally{e.value=!1}};return D(async()=>{var t;o.value=(t=s.params)==null?void 0:t.id,await i(o.value)}),M(s,async()=>{var l;const t=(l=s.params)==null?void 0:l.id;t!=o.value&&(o.value=t,await i(t))}),{releatedBlogs:h,anchor:r}}}),hs={class:"detail-content"},us={class:"action-group"},gs=n("span",null,"Quay vá»",-1),vs={class:"blog-info"},ys={class:"anchor-sm"},ks={class:"rendered-article"};function ms(s,e,o,h,r,v){const a=P,i=d("a-col"),t=d("LeftOutlined"),l=d("RouterLink"),B=N,V=T,H=x,q=d("a-row");return g(),_(q,{class:"blog-detail-container"},{default:u(()=>[c(i,{md:24,lg:6,class:"w-100-sm anchor-md"},{default:u(()=>[c(a,{items:s.anchor},null,8,["items"])]),_:1}),c(i,{md:24,lg:12},{default:u(()=>[n("div",hs,[n("div",us,[c(l,{to:"/blogs",class:"btn-back"},{default:u(()=>[c(t,{class:"arrow-left font-small"}),gs]),_:1})]),n("div",vs,[c(B)]),n("div",ys,[c(a,{items:s.anchor},null,8,["items"])]),n("div",ks,[c(V)])])]),_:1}),c(i,{md:24,lg:6},{default:u(()=>[c(H,{items:s.releatedBlogs},null,8,["items"])]),_:1})]),_:1})}const Ws=b(ds,[["render",ms]]);export{Ws as default};
